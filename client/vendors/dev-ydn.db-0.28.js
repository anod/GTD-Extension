(function(){function j(a){throw a;}var k=void 0,n=!0,p=null,r=!1;function aa(){return function(){}}function s(a){return function(){return this[a]}}function ba(a){return function(){return a}}var u,v=this;function ca(a){a=a.split(".");for(var b=v,c;c=a.shift();)if(b[c]!=p)b=b[c];else return p;return b}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function w(a){return a!==k}function x(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function y(a){return"string"==typeof a}function A(a){return"boolean"==typeof a}function C(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function D(a){var b=typeof a;return"object"==b&&a!=p||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){a||j(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function na(a,b,c){na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return na.apply(p,arguments)}function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var pa=Date.now||function(){return+new Date};
function E(a,b){var c=a.split("."),d=v;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&w(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function F(a,b){function c(){}c.prototype=b.prototype;a.$=b.prototype;a.prototype=new c};function qa(a){Error.captureStackTrace?Error.captureStackTrace(this,qa):this.stack=Error().stack||"";a&&(this.message=String(a))}F(qa,Error);qa.prototype.name="CustomError";function sa(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a}function ta(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}function ua(a){if(!va.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(wa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(xa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ya,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(za,"&quot;"));return a}var wa=/&/g,xa=/</g,ya=/>/g,za=/\"/g,va=/[&<>\"]/;
function Aa(a){return ta(a.replace(/  /g," &#160;"),k)}function Ba(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a}var Ca={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},Da={"'":"\\'"};
function G(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,g=c+1,h;if(!(h=Ca[d])){if(!(31<e&&127>e))if(d in Da)d=Da[d];else if(d in Ca)d=Da[d]=Ca[d];else{e=d;h=d.charCodeAt(0);if(31<h&&127>h)e=d;else{if(256>h){if(e="\\x",16>h||256<h)e+="0"}else e="\\u",4096>h&&(e+="0");e+=h.toString(16).toUpperCase()}d=Da[d]=e}h=d}f[g]=h}b.push('"');return b.join("")};function Ea(a,b){b.unshift(a);qa.call(this,sa.apply(p,b));b.shift()}F(Ea,qa);Ea.prototype.name="AssertionError";function Ga(a,b){j(new Ea("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))}function Ha(a,b,c){if(!A(a)){var d=[da(a),a],e=Array.prototype.slice.call(arguments,2),f="Assertion failed";b?(f+=": "+b,d=e):f+=": Expected boolean but got %s: %s.";j(new Ea(""+f,d||[]))}};var Ia=Array.prototype,Ja=Ia.indexOf?function(a,b,c){return Ia.indexOf.call(a,b,c)}:function(a,b,c){c=c==p?0:0>c?Math.max(0,a.length+c):c;if(y(a))return!y(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ka=Ia.forEach?function(a,b,c){Ia.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=Ia.map?function(a,b,c){return Ia.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=y(a)?
a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Na=Ia.some?function(a,b,c){return Ia.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return n;return r};function Oa(a,b){var c=Pa(a,b,k);return 0>c?p:y(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}
function Qa(a){if(!x(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ra(a,b){var c=Ja(a,b);0<=c&&Ia.splice.call(a,c,1)}function Sa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ta(a,b,c,d){Ia.splice.apply(a,Ua(arguments,1))}function Ua(a,b,c){return 2>=arguments.length?Ia.slice.call(a,b):Ia.slice.call(a,b,c)}function Va(a,b){return a>b?1:a<b?-1:0};function Wa(a,b){for(var c=ea(b),d=c?b:arguments,c=c?0:1;c<d.length&&!(a=a[d[c]],!w(a));c++);return a}var Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ya(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Za,$a,ab,bb;function cb(){return v.navigator?v.navigator.userAgent:p}bb=ab=$a=Za=r;var db;if(db=cb()){var eb=v.navigator;Za=0==db.indexOf("Opera");$a=!Za&&-1!=db.indexOf("MSIE");ab=!Za&&-1!=db.indexOf("WebKit");bb=!Za&&!ab&&"Gecko"==eb.product}var fb=Za,H=$a,gb=bb,hb=ab,ib;
a:{var jb="",kb;if(fb&&v.opera)var lb=v.opera.version,jb="function"==typeof lb?lb():lb;else if(gb?kb=/rv\:([^\);]+)(\)|;)/:H?kb=/MSIE\s+([^\);]+)(\)|;)/:hb&&(kb=/WebKit\/(\S+)/),kb)var mb=kb.exec(cb()),jb=mb?mb[1]:"";if(H){var nb,ob=v.document;nb=ob?ob.documentMode:k;if(nb>parseFloat(jb)){ib=String(nb);break a}}ib=jb}var pb={};
function qb(a){var b;if(!(b=pb[a])){b=0;for(var c=String(ib).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var q=l.exec(g)||["","",""],t=m.exec(h)||["","",""];if(0==q[0].length&&0==t[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==t[1].length?0:parseInt(t[1],10))?-1:(0==q[1].length?0:parseInt(q[1],10))>(0==t[1].length?
0:parseInt(t[1],10))?1:0)||((0==q[2].length)<(0==t[2].length)?-1:(0==q[2].length)>(0==t[2].length)?1:0)||(q[2]<t[2]?-1:q[2]>t[2]?1:0)}while(0==b)}b=pb[a]=0<=b}return b}var rb={};function sb(){return rb[9]||(rb[9]=H&&!!document.documentMode&&9<=document.documentMode)};function tb(a){return wb(a||arguments.callee.caller,[])}
function wb(a,b){var c=[];if(0<=Ja(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(xb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=xb(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(wb(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function xb(a){if(yb[a])return yb[a];a=String(a);if(!yb[a]){var b=/function ([^\(]+)/.exec(a);yb[a]=b?b[1]:"[Anonymous]"}return yb[a]}var yb={};function zb(a,b,c,d,e){"number"==typeof e||Ab++;this.i=d||pa();this.f=a;this.d=b;this.c=c;delete this.b;delete this.a}zb.prototype.b=p;zb.prototype.a=p;var Ab=0;function Bb(a){this.i=a}Bb.prototype.c=p;Bb.prototype.b=p;Bb.prototype.d=p;Bb.prototype.a=p;function Cb(a,b){this.name=a;this.value=b}Cb.prototype.toString=s("name");var Db=new Cb("SHOUT",1200),Eb=new Cb("SEVERE",1E3),Fb=new Cb("WARNING",900),Gb=new Cb("INFO",800),Hb=new Cb("CONFIG",700),Ib=new Cb("FINE",500),Jb=new Cb("FINER",400),Kb=new Cb("FINEST",300),Lb=[new Cb("OFF",Infinity),Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,new Cb("ALL",0)],Mb=p;
function Nb(a){if(a.b)return a.b;if(a.c)return Nb(a.c);Ga("Root logger has no level set.");return p}Bb.prototype.log=function(a,b,c){if(a.value>=Nb(this).value){a=this.f(a,b,c);b="log:"+a.d;v.console&&(v.console.timeStamp?v.console.timeStamp(b):v.console.markTimeline&&v.console.markTimeline(b));v.msWriteProfilerMark&&v.msWriteProfilerMark(b);for(b=this;b;){c=b;var d=a;if(c.a)for(var e=0,f=k;f=c.a[e];e++)f(d);b=b.c}}};
Bb.prototype.f=function(a,b,c){var d=new zb(a,String(b),this.i);if(c){d.b=c;var e;var f=arguments.callee.caller;try{var g;var h=ca("window.location.href");if(y(c))g={message:c,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var l,m,q=r;try{l=c.lineNumber||c.Hc||"Not available"}catch(t){l="Not available",q=n}try{m=c.fileName||c.filename||c.sourceURL||h}catch(z){m="Not available",q=n}g=q||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:l,
fileName:m,stack:c.stack||"Not available"}:c}e="Message: "+ua(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+ua(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ua(tb(f)+"-> ")}catch(B){e="Exception trying to expose exception! You win, we lose. "+B}d.a=e}return d};function Ob(a,b){a.log(Eb,b,k)}function I(a,b){a.log(Fb,b,k)}function Pb(a,b){a.log(Jb,b,k)}function J(a,b){a.log(Kb,b,k)}var Qb={},Rb=p;
function Sb(){Rb||(Rb=new Bb(""),Qb[""]=Rb,Rb.b=Hb)}function Tb(){Sb();return Rb}function K(a){Sb();var b;if(!(b=Qb[a])){b=new Bb(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=K(a.substr(0,c));c.d||(c.d={});c.d[d]=b;b.c=c;Qb[a]=b}return b};var Ub=new function(){this.a=pa()};function Vb(a){this.d=a||"";this.f=Ub}Vb.prototype.a=n;Vb.prototype.b=r;function Wb(a){a=new Date(a.i);return Xb(a.getFullYear()-2E3)+Xb(a.getMonth()+1)+Xb(a.getDate())+" "+Xb(a.getHours())+":"+Xb(a.getMinutes())+":"+Xb(a.getSeconds())+"."+Xb(Math.floor(a.getMilliseconds()/10))}function Xb(a){return 10>a?"0"+a:String(a)}function Yb(a,b){var c=(a.i-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function Zb(a){Vb.call(this,a)}F(Zb,Vb);Zb.prototype.b=n;
Zb.prototype.c=function(a){var b;switch(a.f.value){case Db.value:b="dbg-sh";break;case Eb.value:b="dbg-sev";break;case Fb.value:b="dbg-w";break;case Gb.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.d," ");this.a&&c.push("[",Wb(a),"] ");c.push("[",Aa(Yb(a,this.f.a)),"s] ");c.push("[",ua(a.c),"] ");c.push('<span class="',b,'">',ta(Aa(ua(a.d))));this.b&&a.b&&c.push("<br>",ta(Aa(a.a||"")));c.push("</span><br>");return c.join("")};function $b(a){Vb.call(this,a)}F($b,Vb);
$b.prototype.c=function(a){var b=[];b.push(this.d," ");this.a&&b.push("[",Wb(a),"] ");b.push("[",Yb(a,this.f.a),"s] ");b.push("[",a.c,"] ");b.push(a.d,"\n");this.b&&a.b&&b.push(a.a,"\n");return b.join("")};function ac(){this.f=na(this.i,this);this.a=new $b;this.a.a=r;this.b=this.a.b=r;this.c="";this.d={}}ac.prototype.i=function(a){if(!this.d[a.c]){var b=this.a.c(a);if(bc)switch(a.f){case Db:cc("info",b);break;case Eb:cc("error",b);break;case Fb:cc("warn",b);break;default:cc("debug",b)}else window.opera?window.opera.postError(b):this.c+=b}};var bc=window.console;function cc(a,b){var c=bc;if(c[a])c[a](b);else c.log(b)};var dc,ec=!H||sb();!gb&&!H||H&&sb()||gb&&qb("1.9.1");H&&qb("9");function fc(a,b){var c;c=a.className;c=y(c)&&c.match(/\S+/g)||[];for(var d=Ua(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=Ja(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};var gc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function hc(a){this.a=a||v.document||document}function ic(a,b){var c;c=a.a;var d=b&&"*"!=b?b.toUpperCase():"";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+""):c=c.getElementsByTagName(d||"*");return c}
hc.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!ec&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',ua(g.name),'"');if(g.type){f.push(' type="',ua(g.type),'"');var h={};Ya(h,g);delete h.type;g=h}f.push(">");f=f.join("")}f=d.createElement(f);if(g)if(y(g))f.className=g;else if(x(g))fc.apply(p,[f].concat(g));else{var l=f,h=function(a,b){"style"==b?l.style.cssText=a:"class"==b?l.className=a:"for"==b?l.htmlFor=a:b in gc?l.setAttribute(gc[b],a):0==b.lastIndexOf("aria-",
0)||0==b.lastIndexOf("data-",0)?l.setAttribute(b,a):l[b]=a},m;for(m in g)h.call(k,g[m],m)}if(2<e.length){var q=d,t=f,d=e,e=function(a){a&&t.appendChild(y(a)?q.createTextNode(a):a)};for(m=2;m<d.length;m++)if(g=d[m],ea(g)&&!(D(g)&&0<g.nodeType)){var h=Ka,z;a:{if((z=g)&&"number"==typeof z.length){if(D(z)){z="function"==typeof z.item||"string"==typeof z.item;break a}if(ha(z)){z="function"==typeof z.item;break a}}z=r}h(z?Sa(g):g,e)}else e(g)}return f};
hc.prototype.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function jc(a){this.f=na(this.i,this);this.b=new Zb;this.c=this.b.a=r;this.a=a;this.d=this.a.ownerDocument||this.a.document;var b=(a=this.a)?new hc(9==a.nodeType?a:a.ownerDocument||a.document):dc||(dc=new hc),c=p;H?(a=c=b.a.createStyleSheet(),H?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}"):(a=ic(b,"head")[0],a||(c=ic(b,"body")[0],a=b.b("head"),c.parentNode.insertBefore(a,c)),b=c=b.b("style"),H?b.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
b.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}",a.appendChild(c));this.a.className+=" logdiv"}
jc.prototype.i=function(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.d.createElement("div");c.className="logmsg";c.innerHTML=this.b.c(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)};jc.prototype.clear=function(){this.a.innerHTML=""};var kc=p,lc=p;E("ydn.debug.log",function(a,b,c){if(C(b))b=new Cb("log",b);else if(y(b)){b=b.toUpperCase();if(!Mb){Mb={};for(var d=0,e;e=Lb[d];d++)Mb[e.value]=e,Mb[e.name]=e}b=Mb[b]||p}else b=Ib;K(a||"ydn").b=b;if(w(c))lc||(a=lc=new jc(c),n!=a.c&&(c=Tb(),b=a.f,c.a||(c.a=[]),c.a.push(b),a.c=n),Tb().b=Fb);else if(!kc||!lc)a=kc=new ac,n!=a.b&&(c=Tb(),b=a.f,c.a||(c.a=[]),c.a.push(b),a.b=n),Tb().b=Fb});/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function L(a,b){this.c=[];this.i=a;this.o=b||p}u=L.prototype;u.Y=r;u.za=r;u.Ga=0;u.Bb=r;u.hc=r;u.ib=0;function mc(a,b){if(a.Y)a.b instanceof L&&mc(a.b);else{if(a.a){var c=a.a;delete a.a;b?mc(c,b):(c.ib--,0>=c.ib&&mc(c))}a.i?a.i.call(a.o,a):a.Bb=n;a.Y||a.e(new nc)}}u.Ib=function(a,b){oc(this,a,b);this.Ga--;0==this.Ga&&this.Y&&pc(this)};function oc(a,b,c){a.Y=n;a.b=c;a.za=!b;pc(a)}function qc(a){a.Y&&(a.Bb||j(new rc),a.Bb=r)}function M(a,b){qc(a);oc(a,n,b)}u.e=function(a){qc(this);oc(this,r,a)};
u.Na=function(a,b){return this.R(a,p,b)};u.Oa=function(a,b){return this.R(p,a,b)};u.R=function(a,b,c){this.c.push([a,b,c]);this.Y&&pc(this);return this};function sc(a){return Na(a.c,function(a){return ha(a[1])})}
function pc(a){a.f&&(a.Y&&sc(a))&&(v.clearTimeout(a.f),delete a.f);a.a&&(a.a.ib--,delete a.a);for(var b=a.b,c=r,d=r;a.c.length&&0==a.Ga;){var e=a.c.shift(),f=e[0],g=e[1],e=e[2];if(f=a.za?g:f)try{var h=f.call(e||a.o,b);w(h)&&(a.za=a.za&&(h==b||h instanceof Error),a.b=b=h);b instanceof L&&(d=n,a.Ga++)}catch(l){b=l,a.za=n,sc(a)||(c=n)}}a.b=b;d&&a.Ga&&(b.R(na(a.Ib,a,n),na(a.Ib,a,r)),b.hc=n);c&&(a.f=v.setTimeout(function(){j(b)},0))}function tc(a){var b=new L;M(b,a);return b}
function rc(){qa.call(this)}F(rc,qa);rc.prototype.message="Deferred has already fired";rc.prototype.name="AlreadyCalledError";function nc(){qa.call(this)}F(nc,qa);nc.prototype.message="Deferred was cancelled";nc.prototype.name="CancelledError";function uc(){0!=vc&&ia(this)}var vc=0;!H||sb();var xc=!H||sb(),yc=H&&!qb("9");!hb||qb("528");gb&&qb("1.9b")||H&&qb("8")||fb&&qb("9.5")||hb&&qb("528");gb&&!qb("8")||H&&qb("9");function zc(a,b){this.type=a;this.a=this.target=b}zc.prototype.b=r;zc.prototype.c=n;zc.prototype.pb=function(){this.c=r};function Ac(a){Ac[" "](a);return a}Ac[" "]=aa();function Bc(a,b){a&&Cc(this,a,b)}F(Bc,zc);u=Bc.prototype;u.target=p;u.clientX=0;u.clientY=0;u.Kb=p;function Cc(a,b,c){var d=a.type=b.type;zc.call(a,d);a.target=b.target||b.srcElement;a.a=c;if((c=b.relatedTarget)&&gb)try{Ac(c.nodeName)}catch(e){}a.clientX=b.clientX!==k?b.clientX:b.pageX;a.clientY=b.clientY!==k?b.clientY:b.pageY;a.Kb=b;b.defaultPrevented&&a.pb();delete a.b}
u.pb=function(){Bc.$.pb.call(this);var a=this.Kb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=r,yc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};function Dc(){}var Ec=0;Dc.prototype.key=0;Dc.prototype.qa=r;Dc.prototype.a=r;Dc.prototype.handleEvent=function(a){return this.b?this.Ea.call(this.qb||this.src,a):this.Ea.handleEvent.call(this.Ea,a)};var Fc={},Gc={},Hc={},Ic={};
function Jc(a,b,c,d,e){if(b)if(x(b))for(var f=0;f<b.length;f++)Jc(a,b[f],c,d,e);else{d=!!d;var g=Gc;b in g||(g[b]={H:0,D:0});g=g[b];d in g||(g[d]={H:0,D:0},g.H++);var g=g[d],h=ia(a),l;g.D++;if(g[h]){l=g[h];for(f=0;f<l.length;f++)if(g=l[f],g.Ea==c&&g.qb==e){if(g.qa)break;return}}else l=g[h]=[],g.H++;var m=Kc,q=xc?function(a){return m.call(q.src,q.key,a)}:function(a){a=m.call(q.src,q.key,a);if(!a)return a},f=q;f.src=a;var t=g=new Dc;ha(c)?t.b=n:c&&c.handleEvent&&ha(c.handleEvent)?t.b=r:j(Error("Invalid listener argument"));
t.Ea=c;t.c=f;t.src=a;t.type=b;t.capture=!!d;t.qb=e;t.a=r;t.key=++Ec;t.qa=r;c=g.key;f.key=c;l.push(g);Fc[c]=g;Hc[h]||(Hc[h]=[]);Hc[h].push(g);a.addEventListener?(a==v||!a.Jb)&&a.addEventListener(b,f,d):a.attachEvent(b in Ic?Ic[b]:Ic[b]="on"+b,f)}else j(Error("Invalid event type"))}
function Lc(a,b,c,d,e){if(x(b))for(var f=0;f<b.length;f++)Lc(a,b[f],c,d,e);else{d=!!d;a:{f=Gc;if(b in f&&(f=f[b],d in f&&(f=f[d],a=ia(a),f[a]))){a=f[a];break a}a=p}if(a)for(f=0;f<a.length;f++)if(a[f].Ea==c&&a[f].capture==d&&a[f].qb==e){Mc(a[f].key);break}}}
function Mc(a){if(Fc[a]){var b=Fc[a];if(!b.qa){var c=b.src,d=b.type,e=b.c,f=b.capture;c.removeEventListener?(c==v||!c.Jb)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Ic?Ic[d]:Ic[d]="on"+d,e);c=ia(c);Hc[c]&&(e=Hc[c],Ra(e,b),0==e.length&&delete Hc[c]);b.qa=n;if(b=Gc[d][f][c])b.Ub=n,Nc(d,f,c,b);delete Fc[a]}}}
function Nc(a,b,c,d){if(!d.Xa&&d.Ub){for(var e=0,f=0;e<d.length;e++)d[e].qa?d[e].c.src=p:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Ub=r;0==f&&(delete Gc[a][b][c],Gc[a][b].H--,0==Gc[a][b].H&&(delete Gc[a][b],Gc[a].H--),0==Gc[a].H&&delete Gc[a])}}function Oc(a,b,c,d,e){var f=1;b=ia(b);if(a[b]){a.D--;a=a[b];a.Xa?a.Xa++:a.Xa=1;try{for(var g=a.length,h=0;h<g;h++){var l=a[h];l&&!l.qa&&(f&=Pc(l,e)!==r)}}finally{a.Xa--,Nc(c,d,b,a)}}return Boolean(f)}function Pc(a,b){a.a&&Mc(a.key);return a.handleEvent(b)}
function Qc(a,b){var c=b.type||b,d=Gc;if(c in d){if(y(b))b=new zc(b,a);else if(b instanceof zc)b.target=b.target||a;else{var e=b;b=new zc(c,a);Ya(b,e)}var e=1,f,d=d[c],c=n in d,g;if(c){f=[];for(g=a;g;g=p)f.push(g);g=d[n];g.D=g.H;for(var h=f.length-1;!b.b&&0<=h&&g.D;h--)b.a=f[h],e&=Oc(g,f[h],b.type,n,b)&&b.c!=r}if(r in d)if(g=d[r],g.D=g.H,c)for(h=0;!b.b&&h<f.length&&g.D;h++)b.a=f[h],e&=Oc(g,f[h],b.type,r,b)&&b.c!=r;else for(d=a;!b.b&&d&&g.D;d=p)b.a=d,e&=Oc(g,d,b.type,r,b)&&b.c!=r}}
function Kc(a,b){if(!Fc[a])return n;var c=Fc[a],d=c.type,e=Gc;if(!(d in e))return n;var e=e[d],f,g;if(!xc){f=b||ca("window.event");var h=n in e,l=r in e;if(h){if(0>f.keyCode||f.returnValue!=k)return n;a:{var m=r;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(q){m=n}if(m||f.returnValue==k)f.returnValue=n}}m=new Bc;Cc(m,f,this);f=n;try{if(h){for(var t=[],z=m.a;z;z=z.parentNode)t.push(z);g=e[n];g.D=g.H;for(var B=t.length-1;!m.b&&0<=B&&g.D;B--)m.a=t[B],f&=Oc(g,t[B],d,n,m);if(l){g=e[r];g.D=g.H;for(B=0;!m.b&&
B<t.length&&g.D;B++)m.a=t[B],f&=Oc(g,t[B],d,r,m)}}else f=Pc(c,m)}finally{t&&(t.length=0)}return f}d=new Bc(b,this);return f=Pc(c,d)};function Rc(){uc.call(this)}F(Rc,uc);Rc.prototype.Jb=n;Rc.prototype.addEventListener=function(a,b,c,d){Jc(this,a,b,c,d)};Rc.prototype.removeEventListener=function(a,b,c,d){Lc(this,a,b,c,d)};L.prototype.done=L.prototype.Na;L.prototype.fail=L.prototype.Oa;L.prototype.then=L.prototype.R;Rc.prototype.addEventListener=Rc.prototype.addEventListener;var Sc=v.window||v.self;function Tc(a,b,c){ha(a)?c&&(a=na(a,c)):a&&"function"==typeof a.handleEvent?a=na(a.handleEvent,a):j(Error("Invalid listener argument"));2147483647<b||Sc.setTimeout(a,b||0)};function Uc(a,b,c,d,e,f){L.call(this,e,f);this.I=a;this.d=[];this.n=!!b;this.vb=!!c;this.Va=!!d;for(b=0;b<a.length;b++)a[b].R(na(this.t,this,b,n),na(this.t,this,b,r));0==a.length&&!this.n&&M(this,this.d)}F(Uc,L);Uc.prototype.oa=0;Uc.prototype.t=function(a,b,c){this.oa++;this.d[a]=[b,c];this.Y||(this.n&&b?M(this,[a,c]):this.vb&&!b?this.e(c):this.oa==this.I.length&&M(this,this.d));this.Va&&!b&&(c=p);return c};Uc.prototype.e=function(a){Uc.$.e.call(this,a);Ka(this.I,function(a){mc(a)})};E("ydn.async.all",function(a){for(var b=[],c,d=0;c=a[d];d++){var e=new L;c.success(oa(function(a,b){M(a,b)},e));c.error(oa(function(a,b){a.e(b)},e));b[d]=e}return new Uc(b)});var Vc={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},Wc=v.webkitIDBRequest&&"LOADING"in v.webkitIDBRequest?v.webkitIDBTransaction||v.IDBTransaction:Vc,N=Wc.READ_ONLY,Xc=Wc.READ_WRITE,Yc=Wc.VERSION_CHANGE;function Zc(a,b){return a?b?"prevunique":"prev":b?"nextunique":"next"};function $c(a,b,c){var d;D(a)?(d=a.store,b=a.id,a.parent!=p&&(c=new $c(a.parent))):w(b)?d=a:(d=a.lastIndexOf("^|"),b=a,0<d&&(b=a.substr(d),c=new $c(a.substring(0,d))),b=b.split("^:"),d=b[0],b=b[1],w(b)||j(Error("Invalid key value: "+a)));this.a=d;this.id=b;this.b=c||p}u=$c.prototype;u.toJSON=function(){var a={store:this.a,id:this.id};this.b&&(a.parent=this.b.toJSON());return a};u.valueOf=function(){return(this.b?this.b.valueOf()+"^|":"")+this.a+"^:"+this.id};
u.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")};u.Cc=s("a");u.jc=s("id");u.Bc=s("b");var ad={};
function bd(a){a=[a];for(var b=new cd,c=0,d,e;(e=a.pop())!==k;){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(ad);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if("number"===d)c+=1,b.write(c),dd(b,e);else if(e instanceof Date)c+=2,b.write(c),dd(b,e.valueOf());else if("string"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>2|255,
(f|3)<<6)}c.write(0)}else if(e===ad)b.write(0);else return"";c=0}return b.trim().toString()}
function dd(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>
8,c&255);c=e%65536;a.write(c>>8,c&255)}function ed(a){var b=a.fa()|0,c=b>>7?r:n,d=c?-1:1,e=(b&127)<<4,b=a.fa()|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(a.fa()|0):a.fa()|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}
function fd(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=a.fa();if(0===f||f==p)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join("")}function gd(a){this.a=p;var b=a.length-1,c=-1;this.fa=function(){return this.a=c<b?parseInt(a[++c]+a[++c],16):p}}
function cd(){var a=[],b;this.write=function(c){for(var d=0;d<arguments.length;d++)b=arguments[d].toString(16),a.push(2===b.length?b:b="0"+b)};this.toString=function(){return a.length?a.join(""):p};this.trim=function(){for(var b=a.length;"00"===a[--b];);a.length=++b;return this}};function hd(a,b,c,d,e){!w(a)&&w(e)&&(a=e);ea(a)?(a=Ma(a,function(a){return a}),w(e)||(e=a.join(", "))):y(a)||j(new O("index keyPath or name required."));this.keyPath=a;this.name=w(e)?e:this.keyPath;this.type=id(b);this.type!=b&&j(new O("Invalid index type: "+b+" in "+this.name));this.unique=!!c;this.multiEntry=!!d}var jd=String.fromCharCode(31);
function kd(a,b){if("DATE"==b){if(a instanceof Date)return+a}else{if("ARRAY"==b){var c=a==p?[""]:x(a)?a:[a],d=c[0]instanceof Date?"d":C(c[0])?"n":"t",c="d"==d?c.reduce(function(a,b){return a+ +b},""):c.join(jd);return d+jd+c+jd}return w(b)?a:"X'"+bd(a)+"'"}}
function ld(a,b){if("DATE"==b)return new Date(a);if("ARRAY"==b){var c=a.split(jd),d=c[0],c=c.slice(1,c.length-1);return Ma(c,function(a){return"d"==d?new Date(parseInt(a,10)):"n"==d?parseFloat(a):a})}if(w(b))c=a;else{for(var e=c=[],f,g=[],h,l,m=new gd(a);m.fa()!=p;)if(0===m.a)e=g.pop();else{if(m.a===p)break;do{h=m.a/4|0;f=m.a%4;for(var q=0;q<h;q++)l=[],e.push(l),g.push(e),e=l;if(0===f&&12<m.a+4)m.fa();else break}while(1);1===f?e.push(ed(m)):2===f?e.push(new Date(ed(m))):3===f?e.push(fd(m)):0===f&&
(e=g.pop())}c=c[0]}return c}var md="ARRAY BLOB DATE INTEGER NUMERIC TEXT".split(" ");function id(a){a=Ja(md,a);return md[a]}hd.prototype.toJSON=function(){return{name:this.name,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};
function nd(a,b,c,d,e){this.name=a;y(this.name)||j(new O("store name must be a string"));this.keyPath=w(b)?b:p;this.keyPath!==p&&(!y(this.keyPath)||x(this.keyPath))&&j(new O("keyPath must be a string or array"));this.autoIncrement=c;var f;w(d)&&(f=id(d),w(f)||j(new O("type invalid in store: "+this.name)));this.type=w(f)?f:this.autoIncrement?"INTEGER":k;this.a=y(this.keyPath)?this.keyPath.split("."):[];this.indexes=e||[]}
nd.prototype.toJSON=function(){for(var a=[],b=0;b<this.indexes.length;b++)a.push(this.indexes[b].toJSON());return{name:this.name,keyPath:this.keyPath,autoIncrement:this.autoIncrement,type:this.type,indexes:a}};
function od(a){var b=["name","keyPath","autoIncrement","type","indexes"],c;for(c in a)a.hasOwnProperty(c)&&-1==Ja(b,c)&&j(new O('Unknown attribute "'+c+'"'));b=[];c=a.indexes||[];if(x(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f=["name","unique","type","keyPath","multiEntry"],g=k;for(g in e)e.hasOwnProperty(g)&&-1==Ja(f,g)&&j(new O("Unknown field: "+g+" in "+JSON.stringify(e)));e=new hd(e.keyPath,e.type,e.unique,e.multiEntry,e.name);w(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new nd(a.name,
a.keyPath,a.autoIncrement,a.type,b)}function pd(a,b){return Oa(a.indexes,function(a){return a.name==b})}function qd(a,b){return b==a.keyPath?n:Na(a.indexes,function(a){return a.name==b})}function rd(a){return y(a.keyPath)?G(a.keyPath):k}function sd(a){return y(a.keyPath)?G(a.keyPath):"_ROWID_"}function ud(a){return y(a.keyPath)?a.keyPath:"_ROWID_"}function vd(a){return G(a.name)}
function wd(a,b,c){var d=[];c=w(c)?c:y(a.keyPath)?Wa(b,a.a):k;var e=[];w(c)&&(e=a.keyPath!=p?[rd(a)]:["_ROWID_"],d=[kd(c,a.type)]);for(var f=0;f<a.indexes.length;f++)if(!(a.indexes[f].name==a.keyPath||"_default_"==a.indexes[f].name)){var g=b[a.indexes[f].name];w(g)&&(d.push(kd(g,a.indexes[f].type)),e.push(G(a.indexes[f].name)))}var f={},h;for(h in b)b.hasOwnProperty(h)&&!qd(a,h)&&(f[h]=b[h]);d.push(JSON.stringify(f));e.push("_default_");a=[];for(f=d.length-1;0<=f;f--)a[f]="?";return{Hb:e,Wb:a,Yb:d,
key:c}}
function xd(a,b){if(!b)return"missing store: "+a.name;if(a.name!=b.name)return"store name, expect: "+a.name+", but: "+b.name;if(a.keyPath!=b.keyPath)return"keyPath, expect:  "+a.keyPath+", but: "+b.keyPath;if(w(a.autoIncrement)&&w(b.autoIncrement)&&a.autoIncrement!=b.autoIncrement)return"autoIncrement, expect:  "+a.autoIncrement+", but: "+b.autoIncrement;if(a.indexes.length!=b.indexes.length)return"indexes length, expect:  "+a.indexes.length+", but: "+b.indexes.length;if(w(a.type)&&w(b.type)&&a.type!=
b.type)return"data type, expect:  "+a.type+", but: "+b.type;for(var c=0;c<a.indexes.length;c++){var d=pd(b,a.indexes[c].name),d=!d?"no index for "+a.indexes[c].name:a.indexes[c].name!=d.name?"name, expect: "+a.indexes[c].name+", but: "+d.name:!yd(a.indexes[c].keyPath,d.keyPath)?"keyPath, expect: "+a.indexes[c].keyPath+", but: "+d.keyPath:a.indexes[c].unique!=d.unique?"unique, expect: "+a.indexes[c].unique+", but: "+d.unique:w(a.indexes[c].type)&&w(d.type)&&a.indexes[c].type!=d.type?"data type, expect: "+
a.indexes[c].type+", but: "+d.type:"";if(0<d.length)return'index "'+a.indexes[c].name+'" '+d}return""}
function zd(a,b){var c,d=b;if(D(a)){c=["version","stores"];for(var e in a)a.hasOwnProperty(e)&&-1==Ja(c,e)&&j(new O("Unknown field: "+e+" in "+JSON.stringify(a)));c=a.version;d=[];e=a.stores||[];x(e)||j(new O("stores must be array"));for(var f=0;f<e.length;f++){var g=od(e[f]);-1!=Pa(d,function(a){return a.name==g.name})&&j(new O('duplicate store name "'+g.name+'".'));d.push(g)}}else y(a)?c=0==a.length?k:parseFloat(a):C(a)&&(c=a);w(c)&&((!C(c)||0>c)&&j(new O("Invalid version: "+c+" ("+a+")")),isNaN(c)&&
(c=k));w(b)&&(!x(b)||0<b.length&&!(b[0]instanceof nd))&&j(new O("stores"));this.version=c;this.b=!w(this.version);this.stores=d||[]}zd.prototype.toJSON=function(){var a=this.stores.map(function(a){return a.toJSON()});return{version:this.version,stores:a}};zd.prototype.b=r;zd.prototype.a=ba(r);function Ad(a){return a.stores.map(function(a){return a.name})}zd.prototype.c=function(a){return this.stores[a]||p};function P(a,b){return Oa(a.stores,function(a){return a.name==b})}
function Bd(a,b){return Na(a.stores,function(a){return a.name==b})}function Cd(a,b){if(!b||a.stores.length!=b.stores.length)return"Number of store: "+a.stores.length+" vs "+b.stores.length;for(var c=0;c<a.stores.length;c++){var d=P(b,a.stores[c].name),d=xd(a.stores[c],d);if(0<d.length)return'store: "'+a.stores[c].name+'" '+d}return""};K("ydn");function Dd(a){if(!y(a)||/^[\s\xa0]*$/.test(a))return{};try{return JSON.parse(a)}catch(b){j(b)}};function Ed(a,b){w(a)&&5242880<a&&I(this.j,"storage size request ignored.");this.m=p;this.$a=b||18E4}
Ed.prototype.ta=function(a,b){function c(a,c,d){Pb(e.j,(d?"changing":"upgrading")+" version to "+a.version+" from "+(b.a()?"auto":b.version));for(d=0;d<b.stores.length;d++)Fd(e,a,c,b.stores[d])}function d(a,b){w(b)?(I(e.j,b?b.message:"Error received."),e.m=p,f.e(b)):(e.m=a,e.m.onabort=function(a){J(e.j,e+": onabort - "+a.message)},e.m.onerror=function(a){J(e.j,e+": onerror - "+a.message)},e.m.onversionchange=function(a){J(e.j,e+": onversionchange to: "+a.version);e.m&&(e.m.onabort=p,e.m.onerror=p,
e.m.onversionchange=p,e.m.close(),e.m=p,ha(e.b)&&e.b())},M(f,n))}var e=this,f=new L,g=b.version;Pb(e.j,"Opening database: "+a+" ver: "+g);var h;h=w(g)?R.open(a,g):R.open(a);h.onsuccess=function(f){var g=f.target.result;Pb(e.j,"Database: "+g.name+", ver: "+g.version+" opened.");if(b.b)e.U(function(f){if(b.a())for(var h=0;h<f.stores.length;h++)if(!Bd(b,f.stores[h].name)){var l=od(f.stores[h].toJSON());b.stores.push(l)}f=Cd(b,f);if(0<f.length){Pb(e.j,"Schema change require for difference in "+f);var q=
C(g.version)?g.version+1:1;if("IDBOpenDBRequest"in v){g.close();var Q=R.open(a,q);Q.onupgradeneeded=function(a){a=a.target.result;Pb(e.j,"re-open for version "+a.version);c(a,Q.transaction,r)};Q.onsuccess=function(a){d(a.target.result)};Q.onerror=function(){Pb(e.j,e+": fail.");d(p)}}else{var ga=g.setVersion(q+"");ga.a=function(a){I(e.j,"migrating from "+g.version+" to "+q+" failed.");d(p,a)};ga.onsuccess=function(){ga.transaction.oncomplete=Fa;c(g,ga.transaction,n)};var Fa=function(){var b=R.open(a);
b.onsuccess=function(a){a=a.target.result;Pb(e.j,e+": OK.");d(a)};b.onerror=function(){Pb(e.j,e+": fail.");d(p)}};ga.transaction!=p&&(ga.transaction.oncomplete=Fa)}}else d(g)},k,g);else if(b.version>g.version){var h=g.setVersion(b.version);h.a=function(a){I(e.j,"migrating from "+g.version+" to "+b.version+" failed.");d(p,a)};h.onsuccess=function(){c(g,h.transaction,n)}}else b.version==g.version?Pb(e.j,"database version "+g.version+" ready to go"):I(e.j,"connected database version "+g.version+" is higher than requested version."),
e.U(function(a){a=Cd(b,a);0<a.length?(Pb(e.j,a),d(p,new Gd("different schema: "+a))):d(g)},k,g)};h.onupgradeneeded=function(a){a=a.target.result;Pb(e.j,"upgrade needed for version "+a.version);c(a,h.transaction,r)};h.onerror=function(c){Ob(e.j,"opening database "+a+":"+b.version+" failed.");d(p,c)};h.onblocked=function(c){Ob(e.j,"database "+a+" "+b.version+" block, close other connections.");d(p,c)};C(this.$a)&&Tc(function(){"done"!=h.readyState&&(Ob(e.j,e+": database state is still "+h.readyState),
d(p,Error("connection timeout after "+e.$a)))},this.$a);return f};var R=v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.moz_indexedDB||v.msIndexedDB;u=Ed.prototype;u.$a=18E4;u.type=ba("indexeddb");u.Eb=function(){return!!this.m};u.j=K("ydn.db.con.IndexedDb");u.m=p;
u.U=function(a,b,c){c=c||this.m;if(w(b)){if(b===p){if(0==c.objectStoreNames.length){a(new zd(c.version));return}j(new Hd)}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new zd(c.version));return}b=c.transaction(b,N)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),l=[],m=0,q=h.indexNames.length;m<q;m++){var t=h.index(h.indexNames[m]);l[m]=new hd(t.keyPath,k,t.unique,t.multiEntry,t.name)}f[d]=new nd(h.name,
h.keyPath,h.autoIncrement,k,l)}b=new zd(c.version,f);a(b)};
function Fd(a,b,c,d){function e(){var a={autoIncrement:!!d.autoIncrement};d.keyPath!=p&&(a.keyPath=d.keyPath);try{return b.createObjectStore(d.name,a)}catch(c){"InvalidAccessError"==c.name&&j(new Id("creating store for "+d.name+" of keyPath: "+d.keyPath+" and autoIncrement: "+d.autoIncrement)),"ConstraintError"==c.name&&j(new Gd("creating store for "+d.name)),j(c)}}J(a.j,"Creating Object Store for "+d.name+" keyPath: "+d.keyPath);if(b.objectStoreNames.contains(d.name)){c=c.objectStore(d.name);c.keyPath!=
d.keyPath?(b.deleteObjectStore(d.name),I(a.j,"store: "+d.name+" deleted due to keyPath change."),c=e()):c.autoIncrement!=d.autoIncrement&&(b.deleteObjectStore(d.name),I(a.j,"store: "+d.name+" deleted due to autoIncrement change."),c=e());for(var f=c.indexNames,g=0,h=0,l=0;l<d.indexes.length;l++){var m=d.indexes[l];f.contains(m.name)||(c.createIndex(m.name,m.keyPath,{unique:m.unique}),g++)}for(l=0;l<f.length;l++)qd(d,f[l])||(c.deleteIndex(f[l]),h++);J(a.j,"Updated store: "+c.name+", "+g+" index created, "+
h+" index deleted.")}else{c=e();for(l=0;l<d.indexes.length;l++)m=d.indexes[l],J(a.j,"Creating index: "+m.name+" multiEntry: "+m.multiEntry),m.unique||m.multiEntry?c.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multiEntry}):c.createIndex(m.name,m.keyPath);J(a.j,"Created store: "+c.name+" keyPath: "+c.keyPath)}}
u.Ra=function(a,b,c,d){var e=this.m;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length&&a(p);b=e.transaction(b,c);b.oncomplete=function(a){d("complete",a)};b.onerror=function(a){d("error",a)};b.onabort=function(a){d("abort",a)};a(b)};u.bb=function(){this.m.close()};u.toString=function(){var a=this.m?this.m.name+":"+this.m.version:"";return this.type()+":"+a};function Jd(a){Error.captureStackTrace?Error.captureStackTrace(this,Jd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.InvalidKeyException"}F(Jd,Error);function Kd(a){Error.captureStackTrace?Error.captureStackTrace(this,Kd):this.stack=Error().stack||"";a&&(this.message=String(a))}F(Kd,Error);Kd.prototype.name="ydn.db.InternalError";
function Ld(a){Error.captureStackTrace?Error.captureStackTrace(this,Ld):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidStateError"}F(Ld,Error);function Id(a){Error.captureStackTrace?Error.captureStackTrace(this,Id):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidAccessError"}F(Id,Error);function S(a){Error.captureStackTrace?Error.captureStackTrace(this,S):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="NotFoundError"}F(S,Error);
S.prototype.name="NotFoundError";function Md(a){Error.captureStackTrace?Error.captureStackTrace(this,Md):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="DataCloneError"}F(Md,Error);function Nd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Nd):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message+" ["+a.code+"]";this.name="SQLError"}F(Nd,Error);
function Od(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Od):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message;this.name="SecurityError"}F(Od,Error);function Pd(a){Error.captureStackTrace?Error.captureStackTrace(this,Pd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.SqlParseError"}F(Pd,Error);function Qd(a){this.a=w(a)?a:4194304}u=Qd.prototype;
u.ta=function(a,b){function c(a,b){w(b)?(d.O=p,e.e(b)):(d.O=a,M(e,n))}var d=this,e=new L,f=p;try{var g=b.b?"":b.version+"",f=v.openDatabase(a,"",a,this.a)}catch(h){"SECURITY_ERR"==h.name?(I(this.s,"SECURITY_ERR for opening "+a),f=p,this.Fb=new Od(h)):j(h)}if(f){f.version===g?J(this.s,"Existing database version "+f.version+" opened."):J(d.s,"Database version "+f.version+" opened, but require "+g+" version.");!b.b&&f.version<g&&J(d.s,"Upgrading to version: "+g);var l=f;J(d.s,a+": setting version from "+
l.version+" to "+b.version);var m=0;l.transaction(function(a){d.U(function(c){for(var e=0;e<b.stores.length;e++){var f=P(c,b.stores[e].name);Rd(d,a,b.stores[e],function(){m++},f)}},a,l)},function(a){j(a)},function(){m!=b.stores.length?I(d.s,a+": setting version voided."):(J(d.s,a+": ready."),c(l))})}else c(p,this.Fb);return e};u.type=ba("websql");u.Fb=p;u.O=p;u.s=K("ydn.db.con.WebSql");
u.U=function(a,b,c){function d(a,b){j(b)}function e(b,c){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=e.name&&"table"==e.type){for(var h=e.sql.substr(e.sql.indexOf("("),e.sql.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),B="",T,Q=[],ga=r,Fa=0;Fa<h.length;Fa++){var fa=h[Fa].match(/\w+|"[^"]+"/g),ra=Ba(fa[0],'"'),La=id(fa[1]);-1!=fa.indexOf("PRIMARY")&&-1!=fa.indexOf("KEY")?(B=ra,T=La,-1!=fa.indexOf("AUTOINCREMENT")&&(ga=n)):"_default_"!=ra&&(fa=new hd(ra,
La,"UNIQUE"==fa[2]),Q.push(fa))}e=new nd(e.name,B,ga,T,Q);g.push(e)}}d=new zd(f,g);a(d)}var f=(c=c||this.O)&&c.version?parseInt(c.version,10):k,f=isNaN(f)?k:f,g=[];if(b)b.executeSql("SELECT * FROM sqlite_master",[],e,d);else{var h=this;c.readTransaction(function(b){h.U(a,b,c)},function(a){Ob(h.s,"opening tx: "+a.message);j(a)},e)}};
function Rd(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){B++;B==m.length&&d(n)},function(b,d){j(new Nd(d,"Error creating table: "+c.name+" "+a))})}var g="CREATE TABLE IF NOT EXISTS "+vd(c)+" (",h=rd(c)||"_ROWID_",l=c.type||"BLOB";"ARRAY"==l&&(l="TEXT");c.keyPath!=p?(g+=rd(c)+" "+l+" UNIQUE PRIMARY KEY ",c.autoIncrement&&(g+=" AUTOINCREMENT ")):g=c.autoIncrement?g+("_ROWID_ "+l+" UNIQUE PRIMARY KEY AUTOINCREMENT "):g+("_ROWID_ "+l+" UNIQUE PRIMARY KEY ");for(var g=g+" ,_default_ BLOB",m=[],
l=0;l<c.indexes.length;l++){var q=c.indexes[l],t=q.unique?" UNIQUE ":" ",z="CREATE "+t+" INDEX IF NOT EXISTS "+G(q.name)+" ON "+vd(c)+" ("+h+")";m.push(z);q.keyPath!=c.keyPath&&(g+=", "+G(q.keyPath)+" "+(q.type||"BLOB")+t)}m.unshift(g+");");var B=0,g="Create";if(e){if(0==xd(c,e).length){J(a.s,c.name+" exists.");d(n);return}g="Modify"}J(a.s,g+" table: "+c.name+": "+m.join(";"));for(a=0;a<m.length;a++)f(m[a])}u.Eb=function(){return!!this.O};u.bb=aa();
u.Ra=function(a,b,c,d){function e(a){J(h.s,h+": Tx "+c+" request cause error.");d("error",a)}function f(){d("complete",{type:"complete"})}function g(b){a(b)}var h=this;this.O===p&&(a(p),d("error",this.Fb));c==N?this.O.readTransaction(g,e,f):c==Yc?this.O.changeVersion(this.O.version,this.O.version+1+"",g,e,f):this.O.transaction(g,e,f)};function Sd(a,b){if(R)return R.cmp(a,b);a=bd(a);b=bd(b);return a>b?1:a==b?0:-1};E("ydn.db.con.IStorage.prototype.transaction",aa().prototype.ca);function Td(){this.clear()}u=Td.prototype;u.setItem=function(a,b){w(this.a[a])||(this.keys.push(a.toString()),this.length=this.keys.length);this.a[a]=b};u.getItem=function(a){return this.a[a]||p};u.removeItem=function(a){delete this.a[a];Ra(this.keys,a.toString());this.length=this.keys.length};u.length=0;u.key=function(a){a=this.keys[a];return w(a)?this.a[a]:p};u.clear=function(){this.a={};this.keys=[];this.length=0};function Ud(a){this.r=a||new Td}u=Ud.prototype;u.bc=K("ydn.db.con.SimpleStorage");u.ta=function(a,b){this.la=a;this.c=b;this.a={};for(var c=0;c<b.stores.length;c++){var d=b.c(c);this.a[d.name]=d.toJSON()}this.indexes={};d=Vd(this);c=Dd(this.r.getItem(d));Ad(b);if(c)for(var e in c)c.hasOwnProperty(e)&&!Bd(b,e)&&(d=c[e],b.a()?(Pb(this.bc,"Adding existing store: "+e),this.a[e]=d):(Pb(this.bc,"Deleting old store: "+e),Wd(this,e)));else this.r.setItem(d,JSON.stringify(this.a));return tc(n)};u.Eb=function(){return!!this.la};
u.type=ba("memory");u.bb=aa();u.Ra=function(a,b,c,d){a(this);d("complete",{})};u.U=function(a){Tc(function(){for(var b=[],c=this.r.getItem(Vd(this)).stores,d=0;d<c.length;d++){var e=this.r.getItem(Vd(this,c[d]));b[d]=new nd(c[d],e.keyPath,e.autoIncrement)}b=new zd(this.la,b);a(b)},0,this)};function Vd(a,b,c){a=["ydn.db",a.la];w(b)&&(a.push(b),w(c)&&a.push(bd(c)));return a.join("^|")}function Xd(a,b,c){b=Vd(a,b instanceof nd?b.name:b,c);a=a.r.getItem(b);return a=a===p?k:Dd(a)}
function Yd(a,b,c,d){var e;e=P(a.c,c);d=w(d)?d:e.keyPath!=p?Wa(b,e.a):k;w(d)||(e.autoIncrement?(Vd(a,e.name),d=a.a[e.name],w(d.autoIncrementNo)||(d.autoIncrementNo=Zd(a,e.name,p).length),d.autoIncrementNo++,d=d.autoIncrementNo):j(new Jd));e=d;d=Vd(a,c,e);b=JSON.stringify(b);a.r.setItem(d,b);if(a=a.a[c].Keys){c=0;for(b=a.length;c<b&&e!=a[c];c++)if(e>a[c]){Ta(a,c,0,e);break}}return e}
function Wd(a,b,c){if(w(c))a.r.removeItem(Vd(a,b,c)),a=a.a[b].Keys,w(a)&&Ra(a,c);else if(w(b)){a.a[b]&&(a.a[b].Keys=p);c=Vd(a,b)+"^|";for(b=a.r.length-1;0<=b;b--){var d=a.r.key(b);0==d.lastIndexOf(c,0)&&a.r.removeItem(d)}}else{c=Vd(a)+"^|";for(b=a.r.length-1;0<=b;b--)d=a.r.key(b),0==d.lastIndexOf(c,0)&&a.r.removeItem(d)}}
u.index=function(a){var b=this.a[a],c=b.Keys;if(c==p){c=[];a=Vd(this,a);a+="^|";for(var d=0,e=this.r.length;d<e;d++){var f=this.r.key(d);if(0==f.lastIndexOf(a,0)){c.push(f);for(var f=0,g=b.indexes.length;f<g;f++);}}Ia.sort.call(c,Va);b.Keys=c;b.indexes={}}return c};
function Zd(a,b,c){function d(){return function(a){return a>=k}}function e(){return function(a){return a<k}}c!=p&&j(new $d);a=a.index(b);if(!w(k)&&!w(k))return a;if(w(k)){if(w(k))return b=Pa(a,e()),c=Pa(a,d()),a.slice(b,c);b=Pa(a,d());return a.slice(b)}b=Pa(a,e());return a.slice(0,b)};function ae(){Ud.call(this,window.localStorage)}F(ae,Ud);ae.prototype.type=ba("localstorage");function be(){Ud.call(this,window.sessionStorage)}F(be,Ud);be.prototype.type=ba("sessionstorage");function ce(a,b){zc.call(this,a,b)}F(ce,zc);function de(a,b,c,d){zc.call(this,a,b);this.message=d||""}F(de,ce);de.prototype.message="";function ee(a,b){zd.call(this,a,b)}F(ee,zd);ee.prototype.a=ba(n);function O(a){Error.captureStackTrace?Error.captureStackTrace(this,O):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.ArgumentException"}F(O,Error);function fe(a){Error.captureStackTrace?Error.captureStackTrace(this,fe):this.stack=Error().stack||"";a&&(this.message=String(a))}F(O,Error);fe.prototype.name="ydn.NotSupportedException";
function $d(a){Error.captureStackTrace?Error.captureStackTrace(this,$d):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.NotImplementedException"}F($d,Error);function Hd(a){Error.captureStackTrace?Error.captureStackTrace(this,Hd):this.stack=Error().stack||"";a&&(this.message=String(a))}F(Hd,Error);Hd.prototype.name="ydn.InternalError";
function Gd(a){Error.captureStackTrace?Error.captureStackTrace(this,Gd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.ConstrainError"}F(Gd,Error);function ge(a){Error.captureStackTrace?Error.captureStackTrace(this,ge):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.InvalidOperationException"}F(O,Error);
function he(a){Error.captureStackTrace?Error.captureStackTrace(this,he):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.InvalidOperationError"}F(he,Error);function yd(a,b){var c;c=c||{};if(a==p||b==p)return r;if(x(a)&&x(b)){if(a.length!=b.length)return r;for(var d=0;d<a.length;d++)if(-1==Oa(b,function(b){return yd(b,a[d])}))return r;return n}if(x(a))return 1==a.length&&yd(a[0],b);if(x(b))return 1==b.length&&yd(b[0],a);if(D(a)&&D(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=yd(a[e],b[e]);if(!f)return r}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=yd(a[e],b[e]),!f))return r;return n}return a===b}
function ie(a){for(var b in a)if(a.hasOwnProperty(b))return a[b]};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
*/
function U(a,b,c){uc.call(this);c=c||{};var d=["autoSchema","size","mechanisms"],e;for(e in c)c.hasOwnProperty(e)&&-1==Ja(d,e)&&j(new O('Unknown attribute "'+e+'" in options.'));this.nc=c.mechanisms||je;this.Va=c.size;this.Xb=w(c.Xb)?c.Xb:n;this.c=p;this.f=[];this.t=r;this.a=b instanceof zd?b:D(b)?c.autoSchema||!w(b.stores)?new ee(b):new zd(b):new ee;w(a)&&this.I(a)}F(U,Rc);U.prototype.n=K("ydn.db.con.Storage");
U.prototype.oc=function(a){if(w(a)){var b=function(b){a(b.toJSON())};if(this.c)this.c.U(b);else{var c=this;this.ca(function(a){c.c.U(b,a)},p,N)}}return this.a?this.a.toJSON():p};U.prototype.hb=function(a){var b=a instanceof nd?a:od(a);a=a.name;var c=P(this.a,a);if(0==xd(b,c).length)return tc(r);c=c?"update":"add";if(this.a instanceof ee)return this.a.stores.push(b),this.c?(this.c.bb(),this.c=p,ke(this)):tc(r);j(new Gd("Cannot "+c+" store: "+a+". Not auto schema generation mode."))};
U.prototype.I=function(a){this.c&&j(Error("Already defined."));this.d=a;ke(this)};E("ydn.db.con.Storage.prototype.setName",U.prototype.I);U.prototype.P=s("d");var je=["indexeddb","websql","localstorage","sessionstorage","memory"];function le(a,b){return"indexeddb"==b?new Ed(a.Va):"websql"==b?new Qd(a.Va):"localstorage"==b?new ae:"sessionstorage"==b?new be:"memory"==b?new Ud:p}
function ke(a){for(var b=new L,c=p,d=a.nc,e=0;e<d.length;e++){var f=d[e].toLowerCase();if("indexeddb"==f&&R){c=le(a,f);break}else if("websql"==f&&ha(v.openDatabase)){c=le(a,f);break}else if("localstorage"==f&&window.localStorage){c=le(a,f);break}else if("sessionstorage"==f&&window.sessionStorage){c=le(a,f);break}else if("memory"==f){c=le(a,f);break}}c===p&&j(new Gd("No storage mechanism found."));c.ta(a.d,a.a).Na(function(){a.c=c;J(a.n,a+": ready.");a.qc=NaN;tc(n);me(a);Qc(a,new de("connected",a));
c.b=function(){J(a.n,a+": disconnected.")}}).Oa(function(b){I(a.n,a+": opening fail: "+b.message);(new L).e(b);if(a.f){a.n.log(Gb,"Purging "+a.f.length+" transactions request.",k);for(var c=a.f.shift();c;)c.S("error",b),c=a.f.shift()}Qc(a,new de("failed",a,0,"opening database fail: "+b.message))});return b}U.prototype.type=function(){return this.c?this.c.type():""};E("ydn.db.con.Storage.prototype.type",U.prototype.type);U.prototype.cb=function(){this.c&&(this.c.bb(),this.c=p)};
E("ydn.db.con.Storage.prototype.close",U.prototype.cb);U.prototype.qc=NaN;function me(a){var b=a.f.shift();b&&U.prototype.ca.call(a,b.nb,b.tc,b.mode,b.S);pa()}U.prototype.t=r;
U.prototype.ca=function(a,b,c,d){var e=b;y(b)?e=[b]:b!=p?(!x(b)||!y(b[0]))&&j(new O("storeNames")):e=p;if(!this.c||!this.c.Eb()||this.t)this.f.push({nb:a,tc:e,mode:c,S:d}),pa(),100<this.f.length&&0==this.f.length%100&&I(this.n,"Transaction queue stack size is "+this.f.length+". It is too large, possibility due to incorrect usage.");else{var f=this,g=w(c)?c:N;g==Yc&&(this.t=n);this.c.Ra(function(b){a(b)},e,g,function(a,b){ha(d)&&d(a,b);g==Yc&&(f.t=r);me(f)})}};
U.prototype.toString=function(){return"ydn.db.con.Storage:"+this.c};E("ydn.db.con.Storage",U);U.prototype.type=U.prototype.type;U.prototype.setName=U.prototype.I;U.prototype.getSchema=U.prototype.oc;U.prototype.transaction=U.prototype.ca;U.prototype.close=U.prototype.cb;
E("ydn.db.deleteDatabase",function(a){function b(){c.s.log(Gb,"all tables in "+a+" deleted.",k)}R&&"deleteDatabase"in R&&R.deleteDatabase(a);var c=new Qd,d=new ee,d=c.ta(a,d);d.Na(function(){c.Ra(function(b){c.U(function(d){var e=d.stores.length;if(0<e)for(var l=0;l<e;l++){var m=d.c(l);Pb(c.s,"deleting table: "+m.name);b.executeSql("DROP TABLE "+vd(m))}else c.s.log(Gb,"no table to delete in "+a,k)},b)},[],Xc,b)});d.Oa(function(){I(c.s,"Connecting "+a+" failed.")});var d=new ae,e=new ee;d.ta(a,e);
Wd(d);d=new be;e=new ee;d.ta(a,e);Wd(d)});function ne(a){this.d=a;this.a=p;this.c=0}u=ne.prototype;u.gb=K("ydn.db.tr.Mutex");u.ra="";u.S=p;u.k=s("a");u.toString=function(){var a;return a="Mutex:"+this.d+":"+this.c+(this.ra?"["+this.ra+"]":"")};/*
 _try.
*/
function oe(a,b,c){this.b=a;this.c=b;this.i=[];this.B=new ne(b);this.t=c}u=oe.prototype;u.Gc=K("ydn.db.tr.TxStorage");u.cb=function(){return this.b.cb()};u.hb=function(a){return this.b.hb(a)};u.ca=function(a,b,c,d){this.b.ca(a,b,c,d)};u.B=p;u.Z=function(){return this.B.c};u.ia=s("b");u.k=function(){return this.B.a&&!this.B.b?this.B.k():p};E("ydn.db.tr.TxStorage.prototype.getTx",oe.prototype.k);oe.prototype.type=function(){return this.b.type()};
oe.prototype.o=function(a,b,c,d,e){var f=a.name||"",g=b;y(b)?g=[b]:(!x(b)||0<b.length&&!y(b[0]))&&j(new O("storeNames"));var h=w(c)?c:N,l=a;if(4<arguments.length){var m=Array.prototype.slice.call(arguments,4),l=function(){var b=Array.prototype.slice.call(arguments),b=b.concat(m);return a.apply(this,b)};l.name=f}var q=this;this.B.a?this.i.push({nb:4<arguments.length?l:a,uc:b,mode:h,S:d}):this.b.ca(function(a){q.I=n;var b=q.B,c=f;b.a=a;b.b=r;b.ra=w(c)?c:"";b.c++;b.S=p;J(b.gb,b+": open");l(q)},g,h,function(a,
b){try{ha(d)&&d(a,b)}catch(c){j(c)}finally{var e=q.B;e.a?(J(e.gb,e+": close"),e.a=p,ha(e.S)&&e.S(a,b),e.S=p):I(e.gb,e+" has no TX to be unlocked for "+a);q.I=r;var e=q,f=e.i.shift();f&&e.o(f.nb,f.uc,f.mode,f.S);pa()}})};oe.prototype.toString=function(){var a="ydn.db.tr.TxStorage:"+this.b.P(),b=this.B.ra;return a+":"+this.c+":"+this.Z()+(b?" ["+b+"]":"")};function pe(a,b,c){U.call(this,a,b,c);this.i=0}F(pe,U);pe.prototype.i=0;pe.prototype.Z=s("i");pe.prototype.pa=function(a){return new oe(this,this.i++,a)};pe.prototype.o=function(a,b,c,d,e){var f=this.pa(a.name||"");if(4<arguments.length){var g=Array.prototype.slice.call(arguments,4),h=function(){var b=Array.prototype.slice.call(arguments),b=b.concat(g);return a.apply(this,b)};h.name=a.name;f.o(h,b,c,d)}else f.o(a,b,c,d)};E("ydn.db.tr.Storage",pe);pe.prototype.run=pe.prototype.o;oe.prototype.run=oe.prototype.o;function qe(a,b){this.la=a;this.a=b}qe.prototype.q=K("ydn.db.req.RequestExecutor");qe.prototype.g=p;function V(a,b,c,d){this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}u=V.prototype;u.lower=k;u.upper=k;u.lowerOpen=r;u.upperOpen=r;u.toJSON=function(){return re(this)};function se(a,b,c,d){return new V(a,b,c,d)}function re(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}
function te(a){return a==p?p:w(a.upper)&&w(a.lower)?ue.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):w(a.upper)?ue.upperBound(a.upper,a.upperOpen):w(a.lower)?ue.lowerBound(a.lower,a.lowerOpen):p}function ve(a){if(a instanceof V)return"";if(a!=p){if(D(a)){for(var b in a)if(a.hasOwnProperty(b)&&!(0<=Ja(["lower","upper","lowerOpen","upperOpen"],b)))return'invalid attribute "'+b+'" in key range object';return""}return"key range must be an object"}return""}
var ue=v.IDBKeyRange||v.webkitIDBKeyRange||V;function we(a,b){qe.call(this,a,b)}F(we,qe);u=we.prototype;u.q=K("ydn.db.core.req.IndexedDb");u.k=s("g");u.Qa=function(a,b){function c(f){var g=d.g.objectStore(b[f]).count();g.onsuccess=function(d){e[f]=d.target.result;f++;f==b.length?M(a,e):c(f)};g.onerror=function(b){a.e(b)}}var d=this,e=[];0==b.length?M(a,[]):c(0)};
u.yb=function(a,b,c,d){var e=this.g.objectStore(b),f;try{f=w(d)?e.put(c,d):e.put(c)}catch(g){"DataError"==g.name&&(c=JSON.stringify(c),j(new Jd(b+": "+c.substring(0,50)))),j(g)}f.onsuccess=function(b){M(a,b.target.result)};f.onerror=function(b){a.e(b)}};
u.zb=function(a,b,c,d){function e(l){var q;try{q=w(d)?h.put(c[l],d[l]):h.put(c[l])}catch(t){"DataError"==t.name&&j(new Jd('put to "'+b+'": '+l+" of "+c.length)),"DataCloneError"==t.name&&j(new Md('put to "'+b+'": '+l+" of "+c.length)),j(t)}q.onsuccess=function(b){g++;f[l]=b.target.result;g==c.length?M(a,f):(b=l+10,b<c.length&&e(b))};q.onerror=function(b){g++;a.e(b)}}var f=[],g=0,h=this.g.objectStore(b);if(0<c.length)for(var l=0;10>l&&l<c.length;l++)e(l);else M(a,[])};
u.jb=function(a,b,c){b=this.g.objectStore(b).openCursor(c);b.onsuccess=function(b){var c=b.target.result;c?(c=c["delete"](),c.onsuccess=function(){M(a,n)},c.onerror=function(){a.e(b)}):M(a,r)};b.onerror=function(b){a.e(b)}};u.xa=function(a,b){for(var c=x(b)&&0<b.length?b:y(b)?[b]:Ad(this.a),d=c.length,e=0,f=0;f<d;f++){var g=this.g.objectStore(c[f]).clear();g.onsuccess=function(){e++;e==d&&M(a,n)};g.onerror=function(b){e++;e==d&&a.e(b)}}};
function xe(a,b,c,d,e,f,g,h,l){var m=[];a=a.g.objectStore(c);f=Zc(f,l);d=d?a.index(d).openCursor(e,f):a.openCursor(e,f);var q=r;d.onsuccess=function(a){(a=a.target.result)?!q&&0<h?(q=n,a.advance(h)):(m.push(a.value),m.length<g?a.advance(1):M(b,m)):M(b,m)};d.onerror=function(a){b.e(a)}}u.Da=function(a,b,c,d,e,f){xe(this,a,b,p,c,d,e,f)};u.Wa=function(a,b,c,d,e,f,g,h){xe(this,a,b,c,d,e,f,g,h)};
u.Rb=function(a,b,c,d,e,f){var g=[];b=this.g.objectStore(b).openCursor(c,Zc(d));var h=r;b.onsuccess=function(b){(b=b.target.result)?!h&&0<f?(h=n,b.advance(f)):(g.push(b.key),g.length<e?b.advance(1):M(a,g)):M(a,g)};b.onerror=function(b){a.e(b)}};u.Sb=function(a,b,c,d,e){var f=[];b=this.g.objectStore(b).openCursor(p,Zc(c));var g=r;b.onsuccess=function(b){(b=b.target.result)?!g&&0<e?(g=n,b.advance(e)):(f.push(b.primaryKey),f.length<d?b.advance(1):M(a,f)):M(a,f)};b.onerror=function(b){a.e(b)}};
u.Pb=function(a,b,c,d,e,f,g,h){var l=[];b=this.g.objectStore(b).index(c).openKeyCursor(d,Zc(e,h));var m=r;b.onsuccess=function(b){(b=b.target.result)?!m&&0<g?(m=n,b.advance(g)):(l.push(b.primaryKey),l.length<f&&b.advance(1)):M(a,l)};b.onerror=function(b){a.e(b)}};u.Ta=function(a,b,c){var d;try{d=this.g.objectStore(b)}catch(e){"NotFoundError"==e.name&&j(new S(b+" not in Tx scope: ?")),j(e)}b=d.get(c);b.onsuccess=function(b){M(a,b.target.result)};b.onerror=function(b){a.e(b)}};
u.tb=function(a,b,c){function d(b){if(c[b]==p)if(f++,e[b]=k,f==h)M(a,e);else{var m=b+10;m<h&&d(m)}var q;try{q=g.get(c[b])}catch(t){"DataError"==t.name&&j(new Jd(c[b])),j(t)}q.onsuccess=function(c){f++;e[b]=c.target.result;f==h?M(a,e):(c=b+10,c<h&&d(c))};q.onerror=function(b){f++;a.e(b)}}var e=[],f=0,g=this.g.objectStore(b),h=c.length;if(0<h)for(b=0;10>b&&b<h;b++)d(b);else M(a,[])};
u.ub=function(a,b){function c(g){var l=b[g],m=d.g.objectStore(l.a),q;try{q=m.get(l.id)}catch(t){"DataError"==t.name&&j(new Jd(l+" at "+g)),j(t)}q.onsuccess=function(d){f++;e[g]=d.target.result;f==b.length?M(a,e):(d=g+10,d<b.length&&c(d))};q.onerror=function(b){f++;a.e(b)}}var d=this,e=[],f=0;if(0<b.length)for(var g=0;10>g&&g<b.length;g++)c(g);else M(a,[])};
u.ya=function(a,b,c,d){b=this.g.objectStore(b);w(d)?(d=b.index(d),c=c===p?d.count():d.count(c)):c=c===p?b.count():b.count(c);c.onsuccess=function(b){M(a,b.target.result)};c.onerror=function(b){a.e(b)}};function ye(a,b){qe.call(this,a,b)}F(ye,qe);u=ye.prototype;u.k=s("g");u.yb=function(a,b,c,d){b=Yd(this.k(),c,b,d);M(a,b)};u.zb=function(a,b,c,d){for(var e=[],f=0;f<c.length;f++)e[f]=Yd(this.k(),c[f],b,w(d)?d[f]:k);M(a,e)};u.Ta=function(a,b,c){M(a,Xd(this.k(),b,c))};u.tb=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=Xd(this.k(),b,c[e]);d.push(f)}M(a,d)};u.ub=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=Xd(this.k(),b[d].a,b[d].id);c.push(e)}M(a,c)};u.Wa=aa();
u.jb=function(a,b,c){Wd(this.k(),b,c);M(a,n)};u.xa=function(a,b){for(var c=y(b)?[b]:b,d=0;d<c.length;d++)Wd(this.g,c[d]);M(a,n)};u.Qa=function(a,b){Tc(function(){for(var c=[],d=0;d<b.length;d++){var e=Zd(this.g,b[d]);c[d]=e.length}M(a,c)},0,this)};u.ya=function(a,b){var c="_database_"+this.la;w(b)&&(c+="-"+b);var d=0,e;for(e in this.g)this.g.hasOwnProperty(e)&&0==e.lastIndexOf(c,0)&&d++;M(a,d)};function ze(a,b,c,d,e){var f,g,h,l;if(D(b))g=b.lower,f=b.upper,l=b.lowerOpen,h=b.upperOpen;else{if("<"==b||"<="==b)f=c,h="<"==b;else if(">"==b||">="==b)g=c,l=">"==b;else if("="==b||"=="==b)f=g=c;"<"==d||"<="==d?(f=e,h="<"==d):">"==d||">="==d?(g=e,l=">"==d):w(d)&&j(new O(d))}V.call(this,g,f,l,h);this.ba=a}F(ze,V);ze.prototype.ba="";
function Ae(a,b){var c="",d=[];if(b){var e=G(a);Be(b)?(c=e+" LIKE ?",d.push(b.lower+"%")):b.lower==b.upper?(c=e+" = ?",d.push(b.lower)):(w(b.lower)&&(c+=" "+e+(b.lowerOpen?" > ":" >= ")+"?",d.push(b.lower)),w(b.upper)&&(c+=(0<c.length?" AND ":" ")+e+(b.upperOpen?" < ":" <= ")+"?",d.push(b.upper)))}return{sql:c,xb:d}}function Be(a){return a==p?r:w(a.lower)&&w(a.upper)&&!a.lowerOpen&&!a.upperOpen&&a.lower.length==a.upper.length+1&&"\uffff"==a.upper[a.lower.length-1]};function Ce(a,b){qe.call(this,a,b)}F(Ce,qe);u=Ce.prototype;u.q=K("ydn.db.core.req.WebSql");function De(a,b){var c=Dd(a._default_);if(b.keyPath!=p)for(var d=ld(a[b.keyPath],b.type),e=c,f=0;f<b.a.length;f++){var g=b.a[f];if(f==b.a.length-1){e[g]=d;break}w(e[g])||(e[g]={});e=e[g]}for(d=0;d<b.indexes.length;d++)e=b.indexes[d],"_default_"!=e.name&&(c[e.name]=ld(a[e.name],e.type));return c}u.k=s("g");u.Rb=function(a,b,c,d,e,f){Ee(this,a,n,b,k,c,d,e,f)};
u.Pb=function(a,b,c,d,e,f,g){Ee(this,a,n,b,c,d,e,f,g)};
function Ee(a,b,c,d,e,f,g,h,l){var m=[],q=P(a.a,d);e=w(e)?e:ud(q);d=G(e);var t=ud(q),z="SELECT "+(c?G(t):"*")+" FROM "+vd(q),B=[];if(f!==p){e=Ae(e,f);z+=" WHERE "+e.sql;for(f=0;f<e.xb.length;f++)B[f]=kd(e.xb[f],q.type)}z+=" ORDER BY "+d+" "+(g?"DESC":"ASC");C(h)&&(z+=" LIMIT "+h);C(l)&&(z+=" OFFSET "+l);a.g.executeSql(z,B,function(a,d){for(var e=0,f=d.rows.length;e<f;e++){var g=d.rows.item(e);c?m[e]=ld(g[t],q.type):g!=p&&(m[e]=De(g,q))}M(b,m)},function(c,d){I(a.q,"get error: "+d.message);b.e(d);return n})}
u.Sb=function(a,b,c,d,e){Ee(this,a,n,b,k,p,c,d,e)};u.yb=function(a,b,c,d){var e=P(this.a,b);e||j(new S(b));var f=this,g=wd(e,c,d);b="INSERT OR REPLACE INTO "+vd(e)+" ("+g.Hb.join(", ")+") VALUES ("+g.Wb.join(", ")+");";this.g.executeSql(b,g.Yb,function(b,c){M(a,w(g.key)?g.key:c.insertId)},function(b,c){I(f.q,"put error: "+c.message);a.e(c);return n})};
u.zb=function(a,b,c,d){function e(b,m){var q;q=w(d)?wd(f,c[b],d[b]):wd(f,c[b]);var t="INSERT OR REPLACE INTO "+vd(f)+" ("+q.Hb.join(", ")+") VALUES ("+q.Wb.join(", ")+");";m.executeSql(t,q.Yb,function(d,f){h++;g[b]=w(q.key)?q.key:f.insertId;if(h==c.length)M(a,g);else{var m=b+2;m<c.length&&e(m,d)}},function(b,c){a.e(c);return n})}var f=P(this.a,b);f||j(new S(b));var g=[],h=0;if(0<c.length)for(b=0;2>b&&b<c.length;b++)e(b,this.k());else M(a,[])};
u.Ta=function(a,b,c){var d=P(this.a,b),e=this;b=sd(d);c=[kd(c,d.type)];b="SELECT * FROM "+vd(d)+" WHERE "+b+" = ?";this.g.executeSql(b,c,function(b,c){if(0<c.rows.length){var e=c.rows.item(0);e!=p?M(a,De(e,d)):M(a,k)}else M(a,k)},function(b,c){I(e.q,"get error: "+c.message);a.e(c);return n})};
u.tb=function(a,b,c){function d(b,m){var q=c[b],t=sd(h),q=[kd(q,h.type)],t="SELECT * FROM "+vd(h)+" WHERE "+t+" = ?";m.executeSql(t,q,function(e,m){g++;if(0<m.rows.length){var q=m.rows.item(0);q!=p&&(f[b]=De(q,h))}else f[b]=k;g==c.length?M(a,f):(q=b+10,q<c.length&&d(q,e))},function(b,c){I(e.q,"get error: "+c.message);a.e(c);return n})}var e=this,f=[],g=0,h=P(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,this.k());else M(a,[])};u.Da=function(a,b,c,d,e,f){Ee(this,a,r,b,k,c,d,e,f)};u.Wa=aa();
u.ub=function(a,b){function c(g,l){var m=b[g],q=P(d.a,m.a),m=x(m.id)?m.id.join("^|"):m.id;sd(q);var m=[m],t="SELECT * FROM "+vd(q)+" WHERE "+rd(q)+" = ?";l.executeSql(t,m,function(d,l){f++;if(0<l.rows.length){var m=l.rows.item(0);m!=p&&(e[g]=De(m,q))}else e[g]=k;f==b.length?M(a,e):(m=g+10,m<b.length&&c(m,d))},function(b,c){I(d.q,"get error: "+c.message);a.e(c);return n})}var d=this,e=[],f=0;if(0<b.length)for(var g=0;10>g&&g<b.length;g++)c(g,this.k());else M(a,[])};
u.xa=function(a,b){function c(b,g){var h=P(d.a,e[b]);h||j(new S(e[b]));h="DELETE FROM  "+vd(h);g.executeSql(h,[],function(d){b==e.length-1?M(a,n):c(b+1,d)},function(b,c){I(d.q,"Sqlite error: "+c.message);a.e(c);return n})}var d=this,e=x(b)&&0<b.length?b:y(b)?[b]:Ad(this.a);0<e.length?c(0,this.g):M(a,[])};
u.jb=function(a,b,c){var d=P(this.a,b);d||j(new S(b));var e=this;b="DELETE FROM "+vd(d)+" WHERE "+rd(d)+" = ?";this.g.executeSql(b,[c],function(){M(a,n)},function(b,c){I(e.q,"put error: "+c.message);a.e(c);return n})};
u.Qa=function(a,b){function c(f){var g="SELECT COUNT(*) FROM "+G(b[f]);d.g.executeSql(g,[],function(d,g){var m=g.rows.item(0);e[f]=parseInt(m["COUNT(*)"],10);f++;f==b.length?M(a,e):c(f)},function(b,c){I(d.q,"count error: "+c.message);a.e(c);return n})}var d=this,e=[];0==b.length?M(a,0):c(0);return a};
u.ya=function(a,b){var c=this,d="SELECT COUNT(*) FROM "+G(b);this.g.executeSql(d,[],function(b,c){var d=c.rows.item(0);M(a,d["COUNT(*)"])},function(b,d){I(c.q,"count error: "+d.message);a.e(d);return n});return a};u.toString=function(){return"WebSqlEx:"+(this.la||"")};function W(a,b,c,d){oe.call(this,a,b,c);this.a=d}F(W,oe);u=W.prototype;u.ia=function(){return W.$.ia.call(this)};u.P=function(){return this.d=this.d||this.ia().P()};u.p=p;u.ma=function(){if(this.p)return this.p;var a=this.type();"indexeddb"==a?this.p=new we(this.P(),this.a):"websql"==a?this.p=new Ce(this.d,this.a):"memory"==a||"localstorage"==a||"sessionstorage"==a?this.p=new ye(this.d,this.a):j(new Kd("No executor for "+a));return this.p};
u.h=function(a,b,c,d){var e=this,f=this.B;if(f.a&&!f.b)e.ma().g=f.k(),a(e.ma());else{var g=function(){e.oa=n;f.a||j(new Kd("Tx not active for scope: "+d));f.b&&j(new Kd("Tx not available for scope: "+d));e.ma().g=f.k();a(e.ma());J(f.gb,f+": locked");f.b=n};g.name=d;e.o(g,b,c,aa())}};
u.eb=function(a,b,c){var d=new L,e,f,g;if(w(a))if(x(a)){(w(c)||w(b))&&j(new O("too many arguments."));e=a;for(a=0;a<e.length;a++)Bd(this.a,e[a])||j(new S(e[a]));this.h(function(a){a.Qa(d,e)},e,N,"countStores")}else y(a)?(Bd(this.a,a)||j(new S(a)),e=[a],y(b)?(f=b,g=te(c)):D(b)||!w(b)?(w(c)&&j(new O),g=te(b)):j(new O("key range")),this.h(function(a){a.ya(d,e[0],g,f)},e,N,"countKeyRange")):j(new O);else{(w(c)||w(b))&&j(new O("too many arguments."));e=Ad(this.a);var h=new L;this.h(function(a){a.Qa(d,
e)},e,N,"countStores");d.R(function(a){a=a.reduce(function(a,b){return b+a},0);M(h,a)},function(a){h.e(a)});return h}return d};u.ha=function(a,b){var c=new L;if(a instanceof $c){var d=a.a;if(!Bd(this.a,d)){if(this.a.a())return tc(k);j(new O("Store: "+d+" not found."))}var e=a.id;this.h(function(a){a.Ta(c,d,e)},[d],N,"getById")}else if(y(a)&&w(b)){if(!P(this.a,a)){if(this.a.a())return tc(k);j(new O("Store: "+a+" not found."))}this.h(function(d){d.Ta(c,a,b)},[a],N,"getById")}else j(new O);return c};
u.keys=function(a,b,c,d,e,f,g){var h,l,m,q,t,z;(z=P(this.a,a))||j(new S(a));var B=new L;!w(b)||A(b)?(q=!!b,C(c)?l=c:(w(c)&&j(new TypeError("arg3")),l=1E6),C(d)?m=d:(w(d)&&j(new TypeError("arg4")),m=0),this.h(function(b){b.Sb(B,a,q,l,m)},[a],N,"keysByStore")):D(b)||b===p?(D(b)&&(h=te(b),h===p&&j(new O("key range"))),A(c)||!w(c)?(q=!!c,C(d)?l=d:(w(d)&&j(new O("arg4 must be number|undefined.")),l=1E6),C(e)?m=e:(w(e)&&j(new O("arg5 must be number|undefined.")),m=0),(w(f)||w(g))&&j(new O("too many arguments")),
this.h(function(b){b.Rb(B,a,h,q,l,m)},[a],N,"keysByKeyRange")):j(new O("arg3 must be boolean|string|undefined."))):y(b)?(qd(z,b)||j(new S(b+" in "+a)),!w(c)||c===p||D(c)?h=te(c):j(new O("arg3 must be IDBKeyRange|null|undefined.")),w(d)&&!A(d)&&j(new O("arg4 must be boolean|undefined.")),q=!!d,C(e)?l=e:(w(e)&&j(new O("arg5 must be number|undefined.")),l=1E6),C(f)?m=f:(w(f)&&j(new O("arg6 must be number|undefined.")),m=0),w(g)&&!A(g)&&j(new O("arg7 must be boolean|undefined.")),t=!!g,this.h(function(c){c.Pb(B,
a,b,h,q,l,m,t)},[a],N,"keysByIndexKeyRange")):j(new O);return B};
u.ua=function(a,b,c,d,e,f,g){var h=new L,l,m,q,t;if(y(a)){if(!P(this.a,a)){if(this.a.a())return tc(k);j(new O("Store: "+a+" not found."))}if(x(b))this.h(function(c){c.tb(h,a,b)},[a],N,"listByIds");else if(!w(b)||A(b))l=!!b,w(c)?C(c)?m=c:j(new O("arg3 must be number|undefined.")):m=1E6,w(d)?C(d)?q=d:j(new O("arg4 must be number|undefined.")):q=0,w(e)&&j(new O("too many input arguments")),this.h(function(b){b.Da(h,a,p,l,m,q)},[a],N,"listByKeyRange");else if(D(b)||b===p||!w(b)){var z=te(b);w(c)&&!A(c)&&
j(new O("arg3 must be boolean|undefined."));l=!!c;w(d)?C(d)?m=d:j(new O("arg4 must be number|undefined.")):m=1E6;w(e)?C(e)?q=e:j(new O("arg5 must be number|undefined.")):q=0;var B=z;this.h(function(b){b.Da(h,a,B,l,m,q)},[a],N,"listByKeyRange")}else y(b)?(z=te(c),w(d)&&!A(d)&&j(new O("arg4 must be boolean|undefined.")),l=!!d,w(e)?C(e)?m=e:j(new O("arg5 must be number|undefined.")):m=1E6,w(f)?C(f)?q=f:j(new O("arg6 must be number|undefined.")):q=0,t=!!g,w(g)&&!A(g)&&j(new O("arg7 must be boolean|undefined.")),
this.h(function(c){c.Wa(h,a,b,z,l,m,q,t)},[a],N,"listByKeyRange")):j(new O("arg2"))}else if(x(a))if(a[0]instanceof $c){c=[];for(d=0;d<a.length;d++){e=a[d].a;if(!Bd(this.a,e)){if(this.a.a())return c=[],c[a.length-1]=k,tc(c);j(new O("Store: "+e+" not found."))}0<=Ja(c,e)||c.push(e)}this.h(function(b){b.ub(h,a)},c,N,"listByKeys")}else j(new O("must be array of ydn.db.Key"));else j(new O);return h};
u.Ka=function(a,b,c){var d=y(a)?a:D(a)?a.name:k;y(d)||j(new O("store name"));var e=P(this.a,d);e?this.a.a()&&D(a)&&(a=od(a),(a=xd(e,a))&&j(new fe("schema change: "+a))):(this.a.a()||j(new O("Not found: "+d)),e=od(D(a)?a:{name:d}),J(this.Gc,"Adding object store: "+d),this.hb(e));var f=new L;e||j(new O("Store: "+d+" not exists."));y(e.keyPath)&&w(c)&&j(new O("key cannot provide while in-line key is in used."));e.autoIncrement&&w(c)&&j(new O("key cannot provide while autoIncrement is true."));!y(e.keyPath)&&
(!e.autoIncrement&&!w(c))&&j(new O("out-of-line key must be provided."));x(b)?this.h(function(a){a.zb(f,d,b,c)},[d],Xc,"putObjects"):D(b)?this.h(function(a){a.yb(f,d,b,c)},[d],Xc,"putObject"):j(new O);return f};
u.clear=function(a,b){var c=new L;if(y(a))y(b)||C(b)||x(b)?this.h(function(d){d.jb(c,a,b)},[a],Xc,"clearById"):(w(b)&&j(new O),this.h(function(b){b.xa(c,a)},[a],Xc,"clearByStore"));else if(x(a)&&y(a[0])){var d=a;this.h(function(a){a.xa(c,d)},d,Xc,"clearByStore")}else w(a)&&j(new O),d=Ad(this.a),this.h(function(a){a.xa(c,d)},d,Xc,"clearByStore");return c};u.toString=function(){var a="TxStorage:"+this.ia().P(),b=this.t,c=this.B.ra;return a+":"+this.c+(b?"["+b+"]":"")+":"+this.Z()+(c?"["+c+"]":"")};function X(a,b,c){pe.call(this,a,b,c);this.b=this.pa("base")}F(X,pe);u=X.prototype;u.pa=function(a){return new W(this,this.i++,a,this.a)};u.Z=function(){return this.b.Z()};u.eb=function(a,b,c){return this.b.eb(a,b,c)};u.ha=function(a,b){return this.b.ha(a,b)};u.keys=function(a,b,c,d,e,f,g){return this.b.keys(a,b,c,d,e,f,g)};u.ua=function(a,b,c,d,e,f,g){return this.b.ua(a,b,c,d,e,f,g)};u.Ka=function(a,b,c){return this.b.Ka(a,b,c)};u.clear=function(a,b){return this.b.clear(a,b)};
u.toString=function(){var a="Storage:"+this.P();return this.b?a+":"+this.b.Z():a};E("ydn.db.core.Storage",X);X.prototype.get=X.prototype.ha;X.prototype.list=X.prototype.ua;X.prototype.put=X.prototype.Ka;X.prototype.clear=X.prototype.clear;X.prototype.count=X.prototype.eb;W.prototype.get=W.prototype.ha;W.prototype.list=W.prototype.ua;W.prototype.put=W.prototype.Ka;W.prototype.clear=W.prototype.clear;W.prototype.count=W.prototype.eb;E("ydn.db.cmp",Sd);E("ydn.db.Key",$c);$c.prototype.id=$c.prototype.jc;$c.prototype.parent=$c.prototype.Bc;$c.prototype.storeName=$c.prototype.Cc;
E("ydn.db.KeyRange",V);V.upperBound=function(a,b){return new V(k,a,k,b)};V.lowerBound=function(a,b){return new V(a,k,b,k)};V.bound=se;V.only=function(a){return new V(a,a,r,r)};V.starts=function(a){var b;x(a)?(b=Dd(JSON.stringify(a)),b.push("\uffff")):y(a)?b=a+"\uffff":j(new O);return se(a,b,r,n)};function Y(a,b,c,d,e,f){y(a)||j(new O("store"));var g;x(b)?g=b.join(", "):y(b)?g=b:(w(b)&&j(new O("index")),g=k);6<arguments.length&&j(new O("too many input arguments."));this.K=a;this.index=g;this.F=w(f)?f:!!y(this.index);A(this.F)||j(new O("key_only"));w(d)&&!A(d)&&j(new O("reverse"));w(e)&&!A(e)&&j(new O("unique"));g="next";d&&e?g="prevunique":d?g="prev":e&&(g="nextunique");this.direction=g;(g=ve(c))&&j(new O(g));this.c=te(c);this.Sa=[];this.Lb=[];this.Mb=[];this.mb=[];this.lb=[];this.d=0;this.z=
this.b=this.a=k;this.Aa=r}function Fe(a,b,c,d,e){D(b)&&!x(b)&&(e=d,w(c)?(Ha(c,"reverse must be boolean"),d=c):d=k,c=b,b=k);Y.call(this,a,b,c,d,e,n)}F(Fe,Y);function Ge(a,b,c,d,e){D(b)&&!x(b)&&(e=d,w(c)?(Ha(c,"reverse must be boolean"),d=c):d=k,c=b,b=k);Y.call(this,a,b,c,d,e,r)}F(Ge,Y);function He(a){return w(a.z)?a.z===r?a.Aa?"working":"resting":"completed":"initial"}u=Y.prototype;u.$b=K("ydn.db.Iterator");u.xc=s("K");u.wc=s("index");u.z=k;u.Aa=r;u.M=s("a");u.kc=function(){return te(this.c)};
u.F=n;u.zc=s("F");u.toJSON=function(){return{store:this.K,index:this.index,key_range:this.c?re(this.c):p,direction:this.direction}};u.toString=function(){var a=w(this.index)?":"+this.index:"";if(this.a!=p){var b="]",c="[",d=He(this);"working"==d?(c="{",b="}"):"resting"==d&&(c="(",b=")");a+=" "+c+this.a+", "+this.b+b}return"Iterator:"+this.K+a};u.key=s("a");u.yc=s("b");u.sc=function(a,b){this.a=a;this.b=b};u.vc=s("d");u.ic=s("z");u.stores=function(){return[this.K].concat(this.Ya)};u.Ya=[];u.pc=[];
u.gc=[];u.Zb=function(){return"prev"===this.direction||"prevunique"===this.direction};u.lc=function(){return"nextunique"===this.direction||"prevunique"===this.direction};u.Sa=[];u.Lb=[];u.Mb=[];u.mb=[];u.lb=[];function Ie(a){a.a=x(a.a)?Sa(a.a):a.a;a.b=x(a.b)?Sa(a.b):a.b;a.Aa=r;a.z=r;J(a.$b,a+": exited")}
function Je(a,b){var c;if(0<a.Sa.length){var d,e;a.z===r?(d=a.a,e=a.b):a.d=0;a.Aa=n;var f=[],g=b.Ua(a.K,a.index,a.c,a.direction,a.F,d,e);g.v=function(b,c){w(b)?(a.z=r,a.a=b,a.b=c,l()&&m()):(a.z=n,a.Aa=r)};c=function(b,c,d){l();w(c)&&(a.mb[b]=c,a.lb[b]=d);l()&&m()};for(var h=0;h<a.Sa.length;h++)d=b.Ua(a.Mb[h]||a.K,a.Sa[h],a.Lb[h],a.direction,n,a.mb[h],a.lb[h]),f.push(d),d.v=oa(c,h);var l=function(){return!f.some(function(a){return a.rb})},m=function(){for(var b=r,c=n,d=[],e=a.a,h=0;h<f.length;h++){var l=
f[h];if(l.na()){var m=Sd(a.a,l.M());d[h]=m;1===m?c=r:-1===m&&(c=r,b=n,1===Sd(l.M(),e)&&(e=l.M()))}else c=r}if(c){g.u(g.M(),g.fb(),g.ob());for(h=0;h<f.length;h++)f[h].forward(n)}else if(b){e!=a.a&&g.seek(e,k,n);for(h=0;h<f.length;h++)0==d[h]?f[h].seek(e):-1==d[h]?f[h].seek(e):f[h].na()?e!=f[h].M()&&f[h].seek(e):f[h].seek(e)}else{a.a!=e&&g.seek(e);for(h=0;h<f.length;h++)(!f[h].na()||0!==Sd(f[h].M(),e))&&f[h].seek(e)}};c=g}else{(d=a.z===r)?(c=a.a,h=a.b):a.d=0;a.z=k;var q=b.Ua(a.K,a.index,a.c,a.direction,
a.F,c,h);J(a.$b,a+" created "+q);q.v=function(b,c,d){w(b)?(a.a=b,a.b=c,a.d++,q.u(b,c,d)):(a.z=n,q.u(k,k,k))};q.C(c,h,d);c=q}return c}u.Ac=function(){"working"==He(this)&&j(new he("working"));this.d=0;this.z=this.b=this.a=k};function Ke(a,b,c,d,e){"transaction"in a?(this.o=a,this.d=this.i=p):"objectStore"in a?(this.o=p,this.i=a.db,this.d=a,this.d.db.objectStoreNames.contains(b)||j(new O('store "'+b+'" not in transaction.'))):j(new O);this.t=b;this.c=c;this.n=e;this.I=d;this.b=[];this.f=r}Ke.prototype.a=K("ydn.db.con.IdbCursorStream");Ke.prototype.f=r;Ke.prototype.b=[];
function Le(a,b){b.onsuccess=function(b){if(b=b.target.result)if(ha(a.n)?a.I?a.n(b.primaryKey,b.key):a.n(b.primaryKey,b.value):I(a.a,"sink gone, dropping value for: "+b.primaryKey),0<a.b.length)b["continue"](a.b.shift())};b.onerror=function(){I(a.a,"seeking fail. "+("error"in b?b.error.name+":"+b.error.message:""))}}
Ke.prototype.seek=function(a){this.b.push(a);if(!this.f){var b=this,c=function(a,c){b.d=p;"complete"!==a&&I(b.a,c.name+":"+c.message);J(b.a,b+" transaction "+a)},d=function(a){var c=b.b.shift();J(b.a,b+" transaction started for "+c);a=a.objectStore(b.t);var d=a.indexNames;w(b.c)&&d.contains(b.c)?(a=a.index(b.c),b.I?Le(b,a.openKeyCursor(c)):Le(b,a.openCursor(c))):!w(b.c)||b.c==a.keyPath?Le(b,a.openCursor(c)):j(new Ld)};this.d?(J(b.a,b+" using existing tx."),d(this.d)):this.i?(J(b.a,b+" creating tx from IDBDatabase."),
this.g=this.i.transaction([this.t],N),this.g.oncomplete=function(a){c("complete",a)},this.g.onerror=function(a){c("error",a)},this.g.onabort=function(a){c("abort",a)}):this.o?(J(b.a,b+" creating tx from ydn.db.con.IStorage."),this.f=n,this.o.ca(function(a){b.f=r;d(a)},[b.t],N,c)):j(new Hd("no way to create a transaction provided."))}};function Me(a,b,c,d){this.b=b;this.c=y(c)?c:k;"transaction"in a?(this.Ja=a,this.a=p):"db"in a?(this.Ja=p,Ne(this,a)):j(new O);this.a=p;this.ab=y(c);this.d=d||k;this.Ha=[];this.Cb=[];this.sb=r}u=Me.prototype;u.Ja=p;u.ab=n;u.Db=p;u.Cb=[];u.Ha=[];function Ne(a,b){"db"in b?a.a=new Ke(b,a.b,a.c,a.ab,na(a.kb,a)):j(new O)}function Oe(a){var b=0<a.Ha.length;if(b&&!a.sb&&ha(a.Db)){var c=function(){Oe(a)},d=a.Cb.shift(),e=a.Ha.shift(),b=0<a.Ha.length,c=a.Db(d,e,b?c:p);b&&!c&&Oe(a)}}u.sb=r;
u.kb=function(a,b){this.Cb.push(a);this.Ha.push(b);Oe(this)};u.push=function(a,b){this.sb&&j(new he("collecting"));if(2<=arguments.length)this.kb(a,b);else{if(!this.a){this.Ja||j(new he("No database set."));var c=this.Ja.type();c?"indexeddb"===c?this.a=new Ke(this.Ja,this.b,this.c,this.ab,na(this.kb,this)):j(new $d(c)):j(new he("Database not connected."))}this.a.seek(a)}};u.toString=function(){return"Streamer:"+this.b+(this.c||"")};function Pe(a,b,c,d,e){this.Q=a;this.A=b;this.w=c;this.va="prev"==d||"prevunique"==d;this.V=d;this.Ba=e}u=Pe.prototype;u.A="";u.Q="";u.V="";u.w=p;u.va=r;u.Ba=n;u.N=function(a){j(a)};u.v=function(a,b,c){this.u(a,b,c)};u.u=aa();u.rb=r;u.toString=function(){var a="";this.na()&&(a="{"+this.M()+":"+this.fb()+"}");return"Cursor:"+this.Q+(w(this.A)?":"+this.A:"")+a};function Qe(a,b){a!=p&&!("push"in a)&&j(new O);this.a=a||p;this.b=b;this.c=0}Qe.prototype.a=p;Qe.prototype.Pa=ba(r);function Re(a,b,c){for(var d=c[0],e=1;e<c.length;e++)if(c[e]!=p){if(d!=p&&0!=Sd(c[e],d)){d=p;break}}else d=p;return d!=p&&(a.c++,a.a&&a.a.push(d),w(a.b)&&a.c>=a.b)?[]:b}Qe.prototype.Za=function(){return[]};function Se(a,b,c,d,e,f){Pe.call(this,b,c,d,e,f);this.ea=a;this.index=p;c!=p&&(a.indexNames.contains(c)?this.index=a.index(c):a.keyPath!=c&&j(new Kd('index "'+c+'" not found in '+a.name)));this.aa=this.T=this.l=p;this.da=this.sa=r}F(Se,Pe);u=Se.prototype;u.wa=K("ydn.db.index.req.IDBCursor");u.ea=p;u.index=p;u.l=p;
u.rc=function(a){var b="IDBCursor: "+this.Q+":"+this.A;this.da=r;if(this.l=a=a.target.result){if(this.aa!=p){b=R.cmp(a.key,this.aa);if(1===b){this.aa=this.T=p;this.v(a.primaryKey,a.key,a.value);return}if(0===b)this.aa=p;else{a["continue"]();return}}if(this.T!=p)if(b=R.cmp(this.T,a.primaryKey),0===b)this.T=p,this.sa?(this.sa=r,a["continue"]()):this.v(a.primaryKey,a.key,a.value);else if(1===b)a["continue"]();else this.T=p,this.v(a.primaryKey,a.key,a.value);else this.v(a.primaryKey,a.key,a.value)}else this.T=
this.aa=p,this.sa=r,J(this.wa,b+" completed."),this.v(k,k,k)};u.T=p;u.aa=p;u.sa=r;u.da=r;
u.C=function(a,b,c){var d="IDBCursor: "+this.Q+":"+this.A;this.T=a;this.aa=b;this.sa=!!c;a=this.w;if(b!=p)if(this.w!=p){if(1==R.cmp(b,this.w.lower)){J(this.wa,d+" not opened, index key out of range "+b+">="+this.w.lower);this.u(k,k,k);return}a=ue.bound(b,this.w.upper,r,this.w.upperOpen)}else a=ue.lowerBound(b);b=this.Ba?this.index?this.V!=p?this.index.openKeyCursor(a,this.V):a!=p?this.index.openKeyCursor(a):this.index.openKeyCursor():this.V!=p?this.ea.openCursor(a,this.V):a!=p?this.ea.openCursor(a):
this.ea.openCursor():this.index?this.V!=p?this.index.openCursor(a,this.V):a!=p?this.index.openCursor(a):this.index.openCursor():this.V!=p?this.ea.openCursor(a,this.V):a!=p?this.ea.openCursor(a):this.ea.openCursor();this.da=n;J(this.wa,d+" opened, request "+b.readyState);b.onsuccess=na(this.rc,this);b.onerror=na(this.N,this)};u.advance=function(a){this.l?this.l.advance(a):j(new he("IDBCursor:"+this.Q+":"+this.A+" cursor gone."))};
u.forward=function(a){var b="IDBCursor:"+this.Q+":"+this.A;if(a===r)J(this.wa,b+" restarting."),this.C();else if(this.l)if(a===n)this.l["continue"]();else if(a!=p)this.l["continue"](a);else this.v(k,k,k),J(this.wa,b+" resting.");else j(new he(b+" cursor gone."))};u.na=function(){return!!this.l};u.fb=function(){return this.l.key};u.M=function(){return this.l.primaryKey};u.ob=function(){return this.l.value};
u.seek=function(a,b,c){var d="IDBCursor:"+this.Q+":"+this.A;this.da&&j(new Kd(d+" has pending request."));this.aa=b;this.T=a;this.sa=!!c;if(this.l){var e=R.cmp(a,this.l.primaryKey),f=0==e||1==e&&!this.va||-1==e&&this.va;if(b!=p){c=R.cmp(this.l.key,b);var g=1==c&&!this.va||-1==c&&this.va;if(0===c)0===e&&j(new Hd(d+" cursor cannot seek to current position")),f?(this.da=n,this.l["continue"]()):this.C(a,b);else if(g)this.l["continue"](b);else J(this.wa,d+" restarting for "+a),this.C(a,b)}else 0===e?(c||
j(new Kd(d+"cursor cannot seek to current position")),this.da=n,this.l["continue"]()):f?(this.da=n,this.l["continue"]()):this.C(a,b,c)}else j(new Kd(d+" cursor gone."))};u.Fc=function(a){if(this.l){var b=new L;a=this.l.update(a);a.onsuccess=function(a){M(b,a)};a.onerror=function(a){b.e(a)};return b}j(new Id("cursor gone"))};function Te(a,b){qe.call(this,a,b)}F(Te,we);u=Te.prototype;u.q=K("ydn.db.index.req.IndexedDb");u.Nb=function(a,b){var c=Je(b,this);c.N=function(b){a.e(b)};c.u=function(c,e,f){Ie(b);M(a,b.F?e:f)}};u.k=s("g");u.Qb=function(a,b,c,d){var e=[],f=Je(b,this);f.N=function(b){a.e(b)};var g=0,h=r;f.u=function(l,m){w(m)?!h&&0<d?(f.advance(d),h=n):(g++,e.push(m),!w(c)||g<c?f.forward(n):(Ie(b),M(a,e))):M(a,e)}};
u.Ca=function(a,b,c,d){var e=[],f=Je(b,this);f.N=function(b){a.e(b)};var g=0,h=r;f.u=function(l,m,q){w(m)?!h&&0<d?(f.advance(d),h=n):(g++,e.push(b.F?l:q),!w(c)||g<c?f.forward(n):(Ie(b),M(a,e))):M(a,e)}};u.Ua=function(a,b,c,d,e){var f=this.k().objectStore(a);return new Se(f,a,b,c,d,e)};function Ue(a,b,c,d,e,f,g,h,l){Pe.call(this,c,d,e,f,g);this.g=a;this.Ma=b;this.ka=this.W=this.ja=p;this.C(h,l)}F(Ue,Pe);u=Ue.prototype;u.La=K("ydn.db.index.req.WebsqlCursor");u.Ma=p;u.G=p;u.L=p;u.X=p;u.W=p;u.ja=p;u.ka=p;
u.C=function(a,b){var c=this.Q+":"+this.A;this.ja=[];this.W=[];this.ka=[];var d=this.w;if(b!=p)if(this.w!=p){var e=R.cmp(b,this.w.upper);if(1==e||0==e&&!this.w.upperOpen){this.u(k,k,k);return}d=ue.bound(b,this.w.upper,r,this.w.upperOpen)}else d=ue.lowerBound(b);var f=this,g=["SELECT"],e=[],h=this.A?this.A:"_ROWID_",l=G(h),m=ud(this.Ma),q=G(m);g.push(this.Ba?l+", "+q:"*");g.push("FROM "+G(this.Q));d=Ae(h,d);d.sql&&(g.push("WHERE "+d.sql),e=e.concat(d.xb));a!=p&&(d.sql?g.push("AND _ROWID_ = ?"):g.push("WHERE _ROWID_ = ?"),
e.push(a));g.push(" ORDER BY "+l+" "+(this.va?"DESC":"ASC"));this.Ba?g.push(" LIMIT 100"):g.push(" LIMIT 1");this.rb=n;g=g.join(" ");J(f.La,"Iterator: "+c+" opened: "+g);this.g.executeSql(g,e,function(a,b){f.rb=r;for(var d=b.rows.length,e=0;e<d;e++){var g=b.rows.item(e);f.ja[e]=ld(g[m],f.Ma.type);f.Ba?f.W[e]=ld(g[h],f.Ma.type):g!=p&&(f.ka[e]=De(g,f.Ma))}0<d?(f.L=f.ja.shift(),f.G=f.W.shift(),f.X=f.ka.shift(),f.v(f.L,f.G,f.X)):(J(f.La,"Iterator: "+c+" completed."),f.v(k,k,k))},function(a,b){I(f.La,
"get error: "+b.message);f.N(b);return n})};
u.forward=function(a){var b=this.Q+":"+this.A;if(a===r)J(this.La,"Iterator: "+b+" restarting."),this.C();else if(this.na())if(a!=p)if(x(this.W)&&0<this.W.length)if(a===n)this.L=this.ja.shift(),this.G=this.W.shift(),this.X=this.ka.shift(),this.v(this.L,this.G,this.X);else{do{this.L=this.ja.shift();this.G=this.W.shift();this.X=this.ka.shift();if(!w(this.G)){this.C(p,a);return}if(0==Sd(this.G,a)){this.v(this.L,this.G,this.X);return}}while(this.L!=p);this.C(p,a)}else a===n?this.C(this.L,this.G,n):this.C(p,
a);else this.v(k,k,k),this.X=this.L=this.G=p,J(this.La,"Cursor: "+b+" resting.");else j(new he("Iterator:"+b+" cursor gone."))};u.na=function(){return this.G!=p};u.fb=s("G");u.M=s("L");u.ob=s("X");u.seek=function(){j(new $d)};function Ve(a,b){qe.call(this,a,b)}F(Ve,Ce);u=Ve.prototype;u.q=K("ydn.db.index.req.WebSql");u.Nb=function(a,b){var c=new L;We(this,c,b,r,1);c.R(function(b){x(b)?M(a,b[0]):M(a)},function(b){a.e(b)})};u.Qb=function(a,b,c,d){We(this,a,b,n,c,d)};u.Ca=function(a,b,c,d){We(this,a,b,r,c,d)};
function We(a,b,c,d,e,f){var g=P(a.a,c.K),h=c.index,l=w(h)?pd(g,h):p,h=G(l?l.keyPath:g.keyPath!=p?g.keyPath:"_ROWID_"),m="*";d?m=h:c.F&&(m=g.keyPath!=p?rd(g):"_ROWID_");var q=m+" FROM "+vd(g),t=c.c,z="",m=[];t&&(Be(t)?(z=h+" LIKE ?",m.push(t.lower+"%")):(w(t.lower)&&(z+=" "+h+(t.lowerOpen?" > ":" >= ")+"?",m.push(t.lower)),w(t.upper)&&(z+=(0<z.length?" AND ":" ")+h+(t.upperOpen?" < ":" <= ")+"?",m.push(t.upper))),z=" WHERE ("+z+")");t="ASC";c.Zb()&&(t="DESC");var B="";w(e)&&(B=" LIMIT "+e);w(f)&&
(B+=" OFFSET "+f);e=["SELECT",q,z,"","ORDER BY "+h,t,B].join(" ");var T;T=d||c.F?function(a){return ld(ie(a),l?l.type:g.type)}:function(a){return De(a,g)};a.g.executeSql(e,m,function(a,c){for(var d=[],e=c.rows.length,f=0;f<e;f++){var g=c.rows.item(f);d.push(T(g))}M(b,d)},function(c,d){I(a.q,"Sqlite error: "+d.message);b.e(d);return n})}u.Ua=function(a,b,c,d,e,f,g){var h=P(this.a,a);return new Ue(this.k(),h,a,b,c,d,e,f,g)};function Xe(a,b){qe.call(this,a,b)}F(Xe,ye);function Ye(a,b,c,d){W.call(this,a,b,c,d)}F(Ye,W);u=Ye.prototype;u.ma=function(){if(!this.p){var a=this.type();"indexeddb"==a?this.p=new Te(this.P(),this.a):"websql"==a?this.p=new Ve(this.d,this.a):"memory"==a||"localstorage"==a||"sessionstorage"==a?this.p=new Xe(this.d,this.a):j(new Kd("No executor for "+a))}return this.p};u.h=function(a,b,c,d){Ye.$.h.call(this,a,b,c,d)};
u.ha=function(a,b){if(a instanceof Y){var c=new L,d=a.K,e=P(this.a,d);e||j(new O('store "'+d+'" not found.'));var f=a.index;w(f)&&!qd(e,f)&&j(new O('index "'+f+'" not found in store "'+d+'".'));this.h(function(b){b.Nb(c,a)},[d],N,"getByIterator");return c}return Ye.$.ha.call(this,a,b)};
u.keys=function(a,b,c,d,e,f,g){if(a instanceof Y){var h=new L;(w(c)||w(d)||w(e))&&j(new O("too many arguments."));var l;C(b)?(l=b,1>l&&j(new O("limit must be a positive value"))):w(b)&&j(new O("limit"));var m;C(c)?m=c:w(c)&&j(new O("offset"));this.h(function(b){b.Qb(h,a,l,m)},a.stores(),N,"listByIterator");return h}return Ye.$.keys.call(this,a,b,c,d,e,f,g)};
u.ua=function(a,b,c,d,e,f,g){if(a instanceof Y){var h=new L;(w(d)||w(e))&&j(new O("too many arguments."));var l;C(b)?(l=b,1>l&&j(new O("limit must be a positive value"))):w(b)&&j(new O("limit"));var m;C(c)?m=c:w(c)&&j(new O("offset"));this.h(function(b){b.Ca(h,a,l,m)},a.stores(),N,"listByIterator");return h}return Ye.$.ua.call(this,a,b,c,d,e,f,g)};
u.dc=function(a,b,c){var d=new L;(!x(a)||!(a[0]instanceof Y))&&j(new O);for(var e=[],f=0;f<a.length;f++)for(var g=a[f].stores(),h=0;h<g.length;h++)0<=Ja(e,g[h])||e.push(g[h]);for(var l=c||[],f=0;f<l.length;f++)c=l[f].b,0<=Ja(e,c)||e.push(c);this.h(function(c){function e(){for(var b=0,d=0;d<a.length;d++){var l=a[d],q=Je(l,c);q.N=f;q.u=oa(g,b);wc[d]=q;fa[b]=d;b++;for(var q=0,T=l.Ya.length+1-1;q<T;q++){var Q=new Me(c.k(),l.Ya[q],l.gc[q],l.pc[q]),ra=oa(h,b);Q.Db=ra;ub.push(Q);Fa[b]=ub.length;b++}}ga=
a.length+ub.length}function f(a){Qa(wc);Qa(ub);d.e(a)}function g(b,c,d,e){Q&&j(new Hd);vb++;var f=a[fa[b]];ra[b]=c;La[b]=f.F?d:e;b=Fa[b];c=0;for(f=f.Ya.length+1-1;c<f;c++){var h=ub[b+c],l=d,m=e;w(h.d)?h.ab?h.push(m):m!=p?h.push(m[h.d]):h.push(k,k):h.push(l)}vb===ga&&T()}function h(a,b,c){Q&&j(new Hd);ra[a]=b;La[a]=c;vb++;vb===ga&&T();return r}function T(){vb=0;var c;c=b instanceof Qe?b.Za(ra,La):b(ra,La);var e=[],f=[],g=[];if(x(c))e=c;else if(c===p)e=[];else if(w(c))D(c)?(x(c.next_primary_keys)&&
(e=c.next_primary_keys),x(c.next_index_keys)&&(f=c.next_index_keys),x(c.advance)&&(g=c.advance)):j(new ge("scan callback output"));else{e=[];for(c=0;c<a.length;c++)w(fa[c])&&(e[c]=n)}var h=0;for(c=0;c<a.length;c++)if(e[c]!=p){w(fa[c])||j(new ge(c+" is not an iterator."));var l=wc[c];e[c]!==r&&!w(ra[c])&&j(new he("Iterator "+c+" must not advance."));ra[c]=k;La[c]=k;w(e[c])&&w(f[c])?l.forward(e[c],f[c],!!g[c]):w(e[c])?A(e[c])?l.forward(e[c]):l.seek(e[c]):w(f[c])?l.forward(f[c]):w(g[c])&&l.forward(!!g[c]);
h++}else vb++;if(0==h){for(e=0;e<a.length;e++)Ie(a[e]);Q=n;Qa(wc);Qa(ub);M(d)}}for(var Q=r,ga,Fa=[],fa=[],ra=[],La=[],wc=[],ub=[],vb=0,td=0;td<l.length;td++)Ne(l[td],this.k());b instanceof Qe?b.Pa(a,function(){e()})||e():e()},e,N,"join");return d};u.cc=function(a,b,c){a instanceof Y||j(new O);P(this.a,a.K)||j(new O('Store "'+a.K+'" not found.'));c=c||N;var d=new L;this.h(function(c){var f=Je(a,c);f.N=function(a){d.e(a)};f.u=function(a){a!=p?(b(f),f.forward(n)):M(d)}},a.stores(),c,"open");return d};
u.map=function(a,b){for(var c=a.stores(),d,e=0;d=c[e];e++)d||j(new O('Store "'+d+'" not found.'));var f=new L;this.h(function(c){var d=Je(a,c);d.N=function(a){f.e(a)};d.u=function(c,e,g){w(e)?(c=b(a.F?y(a.index)?e:c:y(a.index)?c:g),w(c)?(A(c)&&j(new ge(c)),c===p?d.forward(p):d.forward(c)):d.forward(n)):M(f,k)}},c,N,"map");return f};
u.reduce=function(a,b,c){for(var d=a.stores(),e,f=0;e=d[f];f++)e||j(new O('Store "'+e+'" not found.'));var g=new L,h=D(c)?Dd(JSON.stringify(c)):c;this.h(function(c){var d=Je(a,c);d.N=function(a){g.e(a)};var e=0;d.u=function(c,f,l){c!=p?(h=b(h,a.F?y(a.index)?f:c:y(a.index)?c:l,e++),d.forward(n)):M(g,h)}},d,N,"map");return g};function Ze(a){this.a=a}Ze.prototype.a=[];
Ze.prototype.b=function(a,b){for(var c=[],d=0;d<this.a.length;d++){var e=this.a[d],f="'"===e[0]&&"'"===e[e.length-1];if('"'===e[0]&&'"'===e[e.length-1])e=Wa(a,Ba(e,'"').split(".")),c.push(e);else if(f)c.push(Ba(e,"'"));else if(y(e))if("true"===e)c.push(n);else if("false"===e)c.push(r);else if("Date"===e)c.push(new Date(parseInt(c.pop(),10)));else if("now"===e)c.push(new Date);else if("!"===e)c[c.length-1]=!c[c.length-1];else if("=="===e)c.push(c.pop()==c.pop());else if("==="===e)c.push(c.pop()===
c.pop());else if("!="===e)c.push(c.pop()!=c.pop());else if("!=="===e)c.push(c.pop()!==c.pop());else if("<="===e)c.push(c.pop()<=c.pop());else if("<"===e)c.push(c.pop()<c.pop());else if(">="===e)c.push(c.pop()>=c.pop());else if(">"===e)c.push(c.pop()>c.pop());else if("&"===e)c.push(c.pop()&c.pop());else if("|"===e)c.push(c.pop()|c.pop());else if("?"===e){var e=!!c.pop(),f=c.pop(),g=c.pop(),e=e?f:g;c.push(e)}else"+"===e?c.push(c.pop()+c.pop()):"-"===e?c.push(c.pop()-c.pop()):"*"===e?c.push(c.pop()*
c.pop()):"/"===e?c.push(c.pop()/c.pop()):"%"===e?c.push(c.pop()%c.pop()):"at"===e?(f=c.pop(),e=c.pop(),c.push(e[f])):"of"===e?(f=c.pop(),e=c.pop(),e=x(e)?e.indexOf(f):-1,c.push(e)):"in"===e?(f=c.pop(),e=c.pop(),e=x(e)?0<=e.indexOf(f):r,c.push(e)):"abs"===e?c[c.length-1]=Math.abs(c[c.length-1]):"$"==e[0]&&/^\$\d$/.test(e)?(e=parseInt(e.match(/^\$(\d)$/)[1],10),c.push(arguments[e])):c.push(parseFloat(e));else c.push(e)}return c[0]};
Ze.prototype.c=function(){return function(){var a=2<arguments.length?Array.prototype.slice(arguments,2):k;return Ze.prototype.b.apply(p,a)}};Ze.prototype.toJSON=function(){return{Tokens:Dd(JSON.stringify(this.a))}};function $e(a){y(a)||j(new O);this.J=a;af(this,a);this.Ia=""}u=$e.prototype;u.J="";u.Fa=N;u.Tb=NaN;u.Vb=NaN;u.Ab=r;u.Ia="";
function af(a,b){var c=b.split(/\sFROM\s/i);2!=c.length&&j(new Pd("FROM required."));var d=c[1],c=c[0].match(/\s*?(SELECT|INSERT|UPDATE|DELETE)\s+(.*)/i);3!=c.length&&j(new Pd("Unable to parse: "+b));a.c=c[1].toUpperCase();"SELECT"==a.c?a.Fa=N:"INSERT"==a.c?a.Fa=Xc:"UPDATE"==a.c?a.Fa=Xc:"DELETE"==a.c?a.Fa=Xc:j(new Pd("Unknown SQL verb: "+a.c));var c=c[2].trim(),e=c.match(/^(MIN|MAX|COUNT|AVG|SUM)/i);e?(a.d=e[0].toUpperCase(),c=c.replace(/^(MIN|MAX|COUNT|AVG|SUM)/i,"").trim()):a.d=k;"("==c.charAt(0)&&
(")"==c.charAt(c.length-1)?c=c.substring(1,c.length-1):new Pd("missing closing parentheses"));a.o=c;c=d.search(/(ORDER BY|LIMIT|OFFSET)/i);0<c?(a.a=d.substring(c),d=d.substring(0,c)):a.a="";c=d.search(/WHERE/i);0<c?(a.f=d.substring(c+6).trim(),d=d.substring(0,c)):a.f="";a.b=d.trim().split(",").map(function(a){a=Ba(a,'"');a=Ba(a,"'");return a.trim()})}
u.parse=function(a){if(a){for(var b=0;b<a.length;b++)this.J=this.J.replace("?",a[b]);af(this,this.J)}this.i=bf(this);if(!this.i)return this.Ia;a=this.a.length;if(b=/OFFSET\s+(\d+)/i.exec(this.a))this.Vb=parseInt(b[1],10),a=this.a.search(/OFFSET/i);if(b=/LIMIT\s+(\d+)/i.exec(this.a))this.Tb=parseInt(b[1],10),b=this.a.search(/LIMIT/i),b<a&&(a=b);(a=/ORDER BY\s+(.+)/i.exec(this.a.substr(0,a)))?(a=a[1].trim(),(b=a.match(/(ASC|DESC)/i))?(this.Ab="DESC"==b[0].toUpperCase(),a=a.replace(/\s+(ASC|DESC)/i,
"")):this.Ab=r,this.n=Ba(Ba(a,'"'),"'")):this.n=k;return""};function cf(a){if("*"==a.o)return p;a=a.o.split(",");return a=a.map(function(a){return a.trim()})}u.toJSON=function(){return{sql:this.J}};
function bf(a){function b(a){return Pa(c,function(b){return b.ba==a})}var c=[],d=/(.+?)(<=|>=|=|>|<)(.+)/i;if(0<a.f.length)for(var e=a.f.split("AND"),f=0;f<e.length;f++){var g=e[f],h=d.exec(g);if(h){var l=h[1].trim(),l=Ba(l,'"'),l=Ba(l,"'");if(0<l.length){var m=h[3].trim(),m=0==m.lastIndexOf('"',0)?Ba(m,'"'):0==m.lastIndexOf("'",0)?Ba(m,"'"):parseFloat(m),h=new ze(l,h[2],m),l=b(l);if(0<=l){var m=c,q=l;var t=c[l];if(t.ba!=h.ba)h=p;else{var z=k,B=k,T=k,Q=k;t.lower!=p&&h.lower!=p?t.lower>h.lower?(z=
t.lower,T=t.lowerOpen):t.lower==h.lower?(z=t.lower,T=t.lowerOpen||h.lowerOpen):(z=h.lower,T=h.lowerOpen):t.lower!=p?(z=t.lower,T=t.lowerOpen):h.lower!=p&&(z=h.lower,T=h.lowerOpen);t.upper!=p&&h.upper!=p?t.lower>h.upper?(B=t.upper,Q=t.upperOpen):t.lower==h.lower?(B=t.upper,Q=t.upperOpen||h.upperOpen):(B=h.upper,Q=h.upperOpen):t.upper!=p?(B=t.upper,Q=t.upperOpen):h.upper!=p&&(B=h.upper,Q=h.upperOpen);h=new ze(t.ba,{lower:z,upper:B,lowerOpen:T,upperOpen:Q})}m[q]=h;if(!c[l])return a.Ia='where clause "'+
g+'" conflict',p}else c.push(h)}else return a.Ia='Invalid clause "'+g+'"',p}else return a.Ia='Invalid clause "'+g+'"',p}return c}u.toString=function(){return"query:"+this.J};function df(a,b){this.sql=b;this.a=a}df.prototype.toJSON=function(){return{sql:this.sql}};df.prototype.toString=ba("idb.Node:");
df.prototype.ec=function(a,b){var c=Sa(this.sql.b)[0],d=this.sql.i,e=this.sql.Tb,e=isNaN(e)?1E6:e,f=this.sql.Vb,f=isNaN(f)?0:f,g=this.sql.n,h=cf(this.sql),l=p,m=this.sql.Ab;0==d.length?l=p:1==d.length?l=te(d[0]):j(new fe("too many conditions."));h===p||0==h.length?g!=p&&g!=this.a.keyPath?(c=new Ge(c,g,l,m),b.Ca(a,c,e,f)):l?b.Wa(a,c,d[0].ba,l,m,e,f,r):b.Da(a,c,l,m,e,f):1==h.length?g!=p&&g!=h[0]?(d=new L,c=new Ge(c,g,l,m),b.Ca(d,c,e,f),d.R(function(b){b=b.map(function(a){return Wa(a,h[0])});M(a,b)},
function(b){a.e(b)})):(c=new Fe(c,h[0],l,m),b.Ca(a,c,e,f)):(d=new L,b.Da(d,c,l,m,e,f),d.R(function(a){a.map(function(a){for(var b={},c=0;c<h.length;c++)b[h[c]]=Wa(a,h[c]);return b})},function(b){a.e(b)}))};function ef(a,b){df.call(this,a,b)}F(ef,df);
ef.prototype.ec=function(a,b){var c,d=Sa(this.sql.b)[0],e=this.sql.i,f=p;0==e.length?f=p:1==e.length?f=te(e[0]):j(new fe("too many conditions."));var g=this.sql.d;if("COUNT"==g)f?b.ya(a,d,f,e[0].ba):b.ya(a,d,p);else{var h,l=cf(this.sql);(!l||0==l.length)&&j(new he("field name require for reduce operation: "+g));var m=l[0];"MIN"==g?h=function(a,b){var c=a[m];return!w(b)?c:b<c?b:c}:"MAX"==g?h=function(a,b){var c=a[m];return!w(b)?c:b>c?b:c}:"AVG"==g?(c=0,h=function(a,b,c){w(b)||(b=0);return(b*c+a[m])/
(c+1)}):"SUM"==g?(c=0,h=function(a,b){return b+a[m]}):j(new fe(g));var q=Je(f?new Ge(d,e[0].ba,f):new Ge(d),b);q.N=function(b){a.e(b)};var t=0;q.u=function(b,d,e){w(d)?(c=h(e,c,t),q.advance(1),t++):M(a,c)}}};function ff(a,b){qe.call(this,a,b)}F(ff,Te);ff.prototype.q=K("ydn.db.sql.req.IndexedDb");ff.prototype.executeSql=function(a,b,c){(c=b.parse(c))&&j(new Pd(c));c=Sa(b.b);if(1==c.length){var d=P(this.a,c[0]);d||j(new S(c[0]));var e=cf(b);if(e)for(var f=0;f<e.length;f++)qd(d,e[f])||j(new S('Index "'+e[f]+'" not found in '+c[0]));(b.d?new ef(d,b):new df(d,b)).ec(a,this)}else j(new fe(b.J))};function gf(a,b){this.sql=b;this.c=a;this.a=cf(b)}gf.prototype.b=K("ydn.db.sql.req.websql.Node");gf.prototype.toJSON=function(){return{sql:this.sql.J}};gf.prototype.toString=ba("websql.Node:");function hf(a,b){if(a.a){if(1==a.a.length){if(D(b))return Wa(b,a.a[0]);return}for(var c={},d=0;d<a.a.length;d++)c[a.a[d]]=Wa(b,a.a[d]);return c}return De(b,a.c)}
gf.prototype.fc=function(a,b,c){var d=this,e=[];b.executeSql(this.sql.J,c,function(b,c){for(var h=c.rows.length,l=0;l<h;l++){var m=c.rows.item(l);if(D(m))var q=hf(d,m);e.push(q)}M(a,e)},function(b,c){I(d.b,"Sqlite error: "+c.message);a.e(c);return n})};function jf(a,b){gf.call(this,a,b)}F(jf,gf);jf.prototype.fc=function(a,b,c){var d=this;b.executeSql(this.sql.J,c,function(b,c){var d=c.rows.length;1==d?(d=ie(c.rows.item(0)),M(a,d)):0==d?M(a,k):j(new Kd)},function(b,c){I(d.b,"Sqlite error: "+c.message);a.e(c);return n})};function kf(a,b){qe.call(this,a,b)}F(kf,Ve);kf.prototype.q=K("ydn.db.sql.req.WebSql");kf.prototype.executeSql=function(a,b,c){var d=Sa(b.b);if(1==d.length){var e=P(this.a,d[0]);e||j(new S(d[0]));var f=cf(b);if(f)for(var g=0;g<f.length;g++)qd(e,f[g])||j(new S('Index "'+f[g]+'" not found in '+d[0]));(b.d?new jf(e,b):new gf(e,b)).fc(a,this.g,c)}else j(new fe(b.J))};function lf(a,b){qe.call(this,a,b)}F(lf,Xe);function mf(a,b,c,d){W.call(this,a,b,c,d)}F(mf,Ye);mf.prototype.ma=function(){if(!this.p){var a=this.type();"indexeddb"==a?this.p=new ff(this.P(),this.a):"websql"==a?this.p=new kf(this.d,this.a):"memory"==a||"localstorage"==a||"sessionstorage"==a?this.p=new lf(this.d,this.a):j(new Kd("No executor for "+a))}return this.p};mf.prototype.h=function(a,b,c,d){mf.$.h.call(this,a,b,c,d)};
mf.prototype.executeSql=function(a,b){for(var c=new L,d=new $e(a),e=Sa(d.b),f=0;f<e.length;f++){var g=P(this.a,e[f]);g||j(new O("store: "+g+" not exists."))}this.h(function(a){a.executeSql(c,d,b||[])},Sa(d.b),d.Fa,"executeSql");return c};function nf(a,b,c){X.call(this,a,b,c)}F(nf,X);u=nf.prototype;u.pa=function(a){return new Ye(this,this.i++,a,this.a)};u.Dc=function(a,b,c){return this.b.cc(a,b,c)};u.Ec=function(a,b,c){return this.b.dc(a,b,c)};u.map=function(a,b){return this.b.map(a,b)};u.reduce=function(a,b,c){return this.b.reduce(a,b,c)};function of(a,b,c){X.call(this,a,b,c)}F(of,nf);of.prototype.pa=function(a){return new mf(this,this.i++,a,this.a)};of.prototype.executeSql=function(a,b){return this.b.executeSql(a,b)};function Z(a,b,c,d){W.call(this,a,b,c,d)}F(Z,mf);var pf={name:"default_text_store",keyPath:"id",type:"TEXT"};Z.prototype.f=function(a,b,c){var d=this.ia().vb||p;d&&(b=d.Jc(a,b,c));c="default_text_store";Bd(this.a,"default_text_store")||(this.a.a()?c=pf:j(new O("key-value store not in used.")));return this.Ka(c,{id:a,value:b})};E("ydn.db.TxStorage.prototype.setItem",Z.prototype.f);Z.prototype.n=function(a){return this.clear("default_text_store",a)};E("ydn.db.TxStorage.prototype.removeItem",Z.prototype.n);
Z.prototype.getItem=function(a){var b=this.ha("default_text_store",a),c=new L,d=this;b.Na(function(b){if(w(b)){b=b.value;var f=d.ia().vb||p;f&&w(b)&&(b=f.Ic(a,b));M(c,b)}else M(c,k)});b.Oa(function(a){c.e(a)});return c};E("ydn.db.TxStorage.prototype.getItem",Z.prototype.getItem);Z.prototype.toString=function(){var a="TxStorage:"+this.ia().P(),b=this.t,c=this.B.ra;return a+":"+this.c+(b?"["+b+"]":"")+":"+this.Z()+(c?"["+c+"]":"")};function $(a,b,c){X.call(this,a,b,c)}F($,of);$.prototype.pa=function(a){return new Z(this,this.i++,a,this.a)};$.prototype.getItem=function(a){return this.b.getItem(a)};E("ydn.db.Storage.prototype.getItem",$.prototype.getItem);$.prototype.oa=function(a,b,c){return this.b.f(a,b,c)};E("ydn.db.Storage.prototype.setItem",$.prototype.oa);$.prototype.mc=function(a){return this.b.n(a)};E("ydn.db.Storage.prototype.removeItem",$.prototype.mc);
$.prototype.toString=function(){var a="Storage:"+this.P();return this.b?a+":"+this.b.Z():a};function qf(a,b){Qe.call(this,a,b)}F(qf,Qe);qf.prototype.Pa=ba(r);qf.prototype.Za=function(a){function b(e){w(a[e])?(d=r,c[e]=n):(c[e]=r,0<=e-1&&b(e-1))}var c=[],d=n;b(a.length-1);d&&(c=[]);return Re(this,c,a)};function rf(a,b){Qe.call(this,a,b)}F(rf,Qe);rf.prototype.Pa=ba(r);function sf(a){var b=[],c=a[0];if(c==p)return{advance:[],Ob:p,Gb:r,a:r};for(var d=n,e=r,f=c,g=[],h=1;h<a.length;h++)if(a[h]!=p){var l=Sd(c,a[h]);g[h]=l;1===l?d=r:-1===l&&(d=r,e=n,1===Sd(a[h],f)&&(f=a[h]))}else d=r,e=n;if(d)for(h=0;h<a.length;h++)a[h]!=p&&(b[h]=n);else if(e)for(h=0;h<a.length;h++)a[h]!=p&&1===Sd(f,a[h])&&(b[h]=f);else for(h=1;h<a.length;h++)1===g[h]&&(b[h]=c);return{advance:b,Ob:f,Gb:d,a:e}}
rf.prototype.Za=function(a){var b=sf(a);return Re(this,b.advance,a)};function tf(a,b){Qe.call(this,a,b);this.ga=[];this.ac=[];this.wb=r}F(tf,Qe);u=tf.prototype;u.ga=[];u.ac=[];u.wb=r;u.Pa=function(a){1==a.length&&j(new ge("number of iterators must be more than one."));2<a.length&&(this.wb=n);Qa(this.ga);Qa(this.ac);return r};
u.Za=function(a){var b,c=r,d;this.wb?(d=sf(a.slice(1)),b=d.advance,c=d.Gb,d=d.Ob):a[1]!=p?(b=[n],d=a[1],c=n):b=[];if(0==b.length)return Qa(this.ga),[];for(var e=this.ga.length-1;0<e;e--)-1!=Sd(this.ga[e],d)&&this.ga.splice(e,1);c?b.unshift(n):(this.ga.push(a[0]),b.unshift(p));return b};E("ydn.db.KeyIterator",Fe);E("ydn.db.ValueIterator",Ge);Y.prototype.continued=Y.prototype.f;Y.prototype.count=Y.prototype.vc;Y.prototype.done=Y.prototype.ic;Y.prototype.getKeyRange=Y.prototype.kc;Y.prototype.getIndexName=Y.prototype.wc;Y.prototype.getStoreName=Y.prototype.xc;Y.prototype.indexKey=Y.prototype.yc;Y.prototype.isReversed=Y.prototype.Zb;Y.prototype.isUnique=Y.prototype.lc;Y.prototype.isKeyOnly=Y.prototype.zc;Y.prototype.key=Y.prototype.key;Y.prototype.resume=Y.prototype.sc;
Y.prototype.reset=Y.prototype.Ac;E("ydn.db.Storage",$);$.prototype.scan=$.prototype.Ec;$.prototype.map=$.prototype.map;$.prototype.reduce=$.prototype.reduce;$.prototype.open=$.prototype.Dc;$.prototype.setItem=$.prototype.oa;$.prototype.getItem=$.prototype.getItem;Z.prototype.scan=Z.prototype.dc;Z.prototype.map=Z.prototype.map;Z.prototype.reduce=Z.prototype.reduce;Z.prototype.open=Z.prototype.cc;Z.prototype.setItem=Z.prototype.f;Z.prototype.getItem=Z.prototype.getItem;Se.prototype.getPrimaryKey=Se.prototype.M;
Se.prototype.getIndexKey=Se.prototype.fb;Se.prototype.getValue=Se.prototype.ob;Se.prototype.update=Se.prototype.Fc;Se.prototype.clear=Se.prototype.clear;E("ydn.math.Expression",Ze);Ze.prototype.evaluate=Ze.prototype.b;Ze.prototype.compile=Ze.prototype.c;Ze.parseRpn=function(a){return new Ze(a.match(/[^\s"']+|"[^"]*"|'[^']*'/g))};Ze.parseInfix=function(){j(new $d("Too lazy to learn Dutch in Shunting Yard station, we speak Polish here."))};E("ydn.db.algo.NestedLoop",qf);
E("ydn.db.algo.AbstractSolver",Qe);E("ydn.db.algo.ZigzagMerge",tf);E("ydn.db.algo.SortedMerge",rf);})();

            //@ sourceMappingURL=../vendors/dev-ydn.db-0.28.js.map
        